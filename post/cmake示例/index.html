<!DOCTYPE html>
<html lang="en">

  <head>
    <!--ÊØè‰∏™È°µÈù¢ÈÉΩÈúÄË¶Å head linkÁ≠â  -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>cmakeÁ§∫‰æã - Nuo&#39;s Blog</title>
<link rel="shortcut icon" href="https://blog.qxxiao.eu.org/favicon.ico">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css">
<link rel="stylesheet" href="https://blog.qxxiao.eu.org/media/css/tailwind.css">
<link rel="stylesheet" href="https://blog.qxxiao.eu.org/media/css/ldbutton.css">

<link rel="stylesheet" href="https://blog.qxxiao.eu.org/styles/main.css">
<link rel="stylesheet" href="https://blog.qxxiao.eu.org/media/css/light-dark.css">

<link rel="alternate" type="application/atom+xml" title="cmakeÁ§∫‰æã - Nuo&#39;s Blog - Atom Feed" href="https://blog.qxxiao.eu.org/atom.xml">

    

      <script src="https://blog.qxxiao.eu.org/media/scripts/ldbutton.js"></script>
      <meta name="description" content="
ÂÆòÊñπÊïôÁ®ãÔºöhttps://cmake.org/cmake/help/latest/guide/tutorial/index.html
‰∏Ä‰∫õÊÄªÁªìÔºöhttps://wangpengcheng.github.io/2019/08/13/lear..." />
      <meta property="og:title" content="cmakeÁ§∫‰æã - Nuo&#39;s Blog" />
      <meta property="og:description" content="
ÂÆòÊñπÊïôÁ®ãÔºöhttps://cmake.org/cmake/help/latest/guide/tutorial/index.html
‰∏Ä‰∫õÊÄªÁªìÔºöhttps://wangpengcheng.github.io/2019/08/13/lear..." />
      <meta property="og:type" content="articles" />
      <meta property="og:url" content="https://blog.qxxiao.eu.org/post/cmakeÁ§∫‰æã/" />
      <meta property="og:image"
        content="https://pic.qxxiao.cn/20221031044602.png" />
      <meta property="og:image:height" content="630" />
      <meta property="og:image:width" content="1200" />
      <meta name="twitter:title" content="cmakeÁ§∫‰æã - Nuo&#39;s Blog" />
      <meta name="twitter:description" content="
ÂÆòÊñπÊïôÁ®ãÔºöhttps://cmake.org/cmake/help/latest/guide/tutorial/index.html
‰∏Ä‰∫õÊÄªÁªìÔºöhttps://wangpengcheng.github.io/2019/08/13/lear..." />
      <meta name="twitter:card" content="summary_large_image" />
      <link rel="canonical" href="https://blog.qxxiao.eu.org/post/cmakeÁ§∫‰æã/" />

      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css" />
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css" />

      
        <link rel="stylesheet"
          href="https://blog.qxxiao.eu.org/media/css/prism-vs-dark.css" />
        <link href="https://cdn.bootcdn.net/ajax/libs/prism/1.19.0/plugins/line-numbers/prism-line-numbers.min.css"
          rel="stylesheet" />
        <link href="https://cdn.bootcdn.net/ajax/libs/prism/1.19.0/plugins/toolbar/prism-toolbar.min.css"
          rel="stylesheet" />
        
          
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" />
            
  </head>

  <body>
    <div class="antialiased flex flex-col min-h-screen" id="app">
      <!-- Ê†áÈ¢òËèúÂçï -->
<div class="nav py-3 md:py-8 fixed w-full z-10 bg-gray-50 dark:bg-gray-700 transition-all duration-300"
  :class="{ 'scroll': scrolled }">
  <div class="flex justify-end px-4">
    <div class="w-8 h-8 flex justify-center items-center rounded-full md:hidden" @click="showMenu = !showMenu">
      <i class="ri-close-line" v-show="showMenu"></i>
      <i class="ri-menu-3-line" v-show="!showMenu"></i>
    </div>
  </div>
  <nav cloak class="max-w-4xl w-full mx-auto text-right flex flex-col md:flex-row justify-center items-center md:block"
    :class="`${ showMenu ? 'block' : 'hidden' }`">
    
      <!-- Â¶ÇÊûú menu ÊòØ "Êó∂ÂÖâ"Ôºå Ê∏≤Êüì‰∏∫‰∏Ä‰∏™hoverÊòæÁ§∫‰∏ãÊãâÊ°ÜÁªÑ‰ª∂-->
      
          <a href="/" target=""
            class="py-2 md:py-1 px-4 mx-4 inline-flex transition font-semibold rounded dark:hover:bg-gray-600 hover:bg-gray-200">
            È¶ñÈ°µ
          </a>
          
            
      <!-- Â¶ÇÊûú menu ÊòØ "Êó∂ÂÖâ"Ôºå Ê∏≤Êüì‰∏∫‰∏Ä‰∏™hoverÊòæÁ§∫‰∏ãÊãâÊ°ÜÁªÑ‰ª∂-->
      
          <a href="/archives" target=""
            class="py-2 md:py-1 px-4 mx-4 inline-flex transition font-semibold rounded dark:hover:bg-gray-600 hover:bg-gray-200">
            ÂΩíÊ°£
          </a>
          
            
      <!-- Â¶ÇÊûú menu ÊòØ "Êó∂ÂÖâ"Ôºå Ê∏≤Êüì‰∏∫‰∏Ä‰∏™hoverÊòæÁ§∫‰∏ãÊãâÊ°ÜÁªÑ‰ª∂-->
      
          <a href="/tags" target=""
            class="py-2 md:py-1 px-4 mx-4 inline-flex transition font-semibold rounded dark:hover:bg-gray-600 hover:bg-gray-200">
            Ê†áÁ≠æ
          </a>
          
            
      <!-- Â¶ÇÊûú menu ÊòØ "Êó∂ÂÖâ"Ôºå Ê∏≤Êüì‰∏∫‰∏Ä‰∏™hoverÊòæÁ§∫‰∏ãÊãâÊ°ÜÁªÑ‰ª∂-->
      
          <a href="https://gh.qxxiao.cn/nav" target=""
            class="py-2 md:py-1 px-4 mx-4 inline-flex transition font-semibold rounded dark:hover:bg-gray-600 hover:bg-gray-200">
            ÂØºËà™
          </a>
          
            
      <!-- Â¶ÇÊûú menu ÊòØ "Êó∂ÂÖâ"Ôºå Ê∏≤Êüì‰∏∫‰∏Ä‰∏™hoverÊòæÁ§∫‰∏ãÊãâÊ°ÜÁªÑ‰ª∂-->
      
        <div
          class="py-2 md:py-1 px-4 mx-4 inline-flex transition font-semibold dark:hover:bg-gray-600 hover:bg-gray-200 nav-time1">
          Êó∂ÂÖâ
            <div class="transition font-semibold nav-time2">
              
                <a href="https://blog.qxxiao.eu.org/diary/" class="">
                  ËØ¥ËØ¥
                </a>
                
                <a href="https://blog.qxxiao.eu.org/gallery/" class="">
                  Áõ∏ÂÜå
                </a>
                
                <a href="https://blog.qxxiao.eu.org/book/" class="">
                  ‰π¶Âçï
                </a>
                
            </div>
        </div>
        
            
      <!-- Â¶ÇÊûú menu ÊòØ "Êó∂ÂÖâ"Ôºå Ê∏≤Êüì‰∏∫‰∏Ä‰∏™hoverÊòæÁ§∫‰∏ãÊãâÊ°ÜÁªÑ‰ª∂-->
      
          <a href="/post/about" target=""
            class="py-2 md:py-1 px-4 mx-4 inline-flex transition font-semibold rounded dark:hover:bg-gray-600 hover:bg-gray-200">
            ÂÖ≥‰∫é
          </a>
          
            
              <!-- <a href="https://blog.qxxiao.eu.org/atom.xml" target="_blank" class="py-2 md:py-1 px-4 mx-4 inline-flex transition font-semibold rounded dark:hover:bg-gray-600 hover:bg-gray-200">
      RSS
    </a> -->
              <!-- <span>Test Ê®°Âºè</span> -->
              <!-- ÈªëËâ≤Ê®°ÂºèÔºåÂíå‰∫ÆËâ≤Ê®°ÂºèÂºÄÂÖ≥-->
<div class="py-2 md:py-1 inline-flex transition font-semibold rounded dark:hover:bg-gray-600 hover:bg-gray-200">
  <label for="night-light-checkbox" class="night-light-label">
    <input type="checkbox" id="night-light-checkbox" />
    <span v-cloak class="night-light-ball" id="night-light-ball" :class="dark==true?'initDark':'initLight'"></span>
    <svg viewBox="0 0 512 512" class="sun-svg">
      <path id="sun-svg"
        d="M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z">
      </path>
    </svg>
    <svg viewBox="0 0 512 512" class="moon-svg">
      <path id="moon-svg"
        d="M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z">
      </path>
    </svg>
  </label>
</div>
                <form id="gridea-search-form" class="inline-flex ml-4" action="https://blog.qxxiao.eu.org/search/">
                  <input type="search" autocomplete='off' spellcheck='false' name="q" />
                </form>
  </nav>

</div>
        <a href="https://blog.qxxiao.eu.org"
          class="fixed top-0 left-0 mt-4 bg-black text-white dark:text-gray-700 dark:bg-yellow-50 dark:hover:bg-black dark:hover:text-white inline-flex p-2 pl-8 hover:text-gray-700 hover:bg-yellow-50 font-bold z-10 transition-fast animated fadeInLeft">
          Nuo&#39;s Blog
        </a>
        <div class="max-w-4xl w-full mx-auto">
          <div class="shadow-box bg-white dark:bg-gray-600 rounded-lg pt-32 px-4 md:px-8 pb-8 animated fadeIn mb-8">
            <h1 class="text-5xl font-semibold leading-normal pb-8 mb-8 border-b-8 border-gray-700">
              cmakeÁ§∫‰æã
            </h1>
            
              <img src="https://pic.qxxiao.cn/20221031044602.png" alt="cmakeÁ§∫‰æã" class="block w-full mb-8" />
              
                <div class="mb-8 flex flex-wrap">
                  <div class="text-gray-400 text-sm mr-4">
                    <i class="ri-calendar-2-line" style="vertical-align: middle;"></i>
                    2022-10-29 ¬∑
                      <i class="ri-file-word-line" style="vertical-align: middle;"></i>
                      2060Â≠ó ¬∑
                        <i class="ri-timer-line" style="vertical-align: middle;"></i>
                        10 min read
                  </div>
                  üè∑Ô∏è&nbsp;
                      
                        <a href="https://blog.qxxiao.eu.org/tag/cmake/"
                          class="text-indigo-500 text-sm border-b-2 border-solid border-indigo-500 hover:border-gray-600 transition-all duration-100 inline-flex mr-2">
                          <i class="ri-hashtag" style="vertical-align: middle;"></i>
                          CMake
                        </a>
                        
                </div>
                <div class="markdown mb-8" v-pre><blockquote>
<p>ÂÆòÊñπÊïôÁ®ãÔºö<a href="https://cmake.org/cmake/help/latest/guide/tutorial/index.html">https://cmake.org/cmake/help/latest/guide/tutorial/index.html</a><br>
‰∏Ä‰∫õÊÄªÁªìÔºö<a href="https://wangpengcheng.github.io/2019/08/13/learn_cmake/">https://wangpengcheng.github.io/2019/08/13/learn_cmake/</a></p>
</blockquote>
<h2 id="Âü∫Á°Ä">Âü∫Á°Ä</h2>
<p>ÊúÄÂ∞èÈÖçÁΩÆÁöÑ <code>CMakeLists.txt</code></p>
<pre><code class="language-shell"># Set the minimum required version of CMake to be 3.10
cmake_minimum_required(VERSION 3.10)

# Create a project named Tutorial
project(Tutorial VERSION 1.0)
# set(Tutorial_VERSION_MAJOR 1)
# set(Tutorial_VERSION_MINOR 0)

# Set the variable CMAKE_CXX_STANDARD to 11
set(CMAKE_CXX_STANDARD 11)
set(CMAKE_CXX_STANDARD_REQUIRED True)
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)

# Add an executable called Tutorial to the project
add_executable(Tutorial tutorial.cpp)
</code></pre>
<ul>
<li>Â¶ÇÊûúÊñá‰ª∂ËæÉÂ§öÔºå<code>aux_source_directory(. DIR_SRCS)</code> Â∞ÜÂΩìÂâçÁõÆÂΩïÊâÄÊúâÊ∫êÊñá‰ª∂ÁöÑÊñá‰ª∂ÂêçËµãÂÄºÁªôÂèòÈáè¬†<code>DIR_SRCS</code>Ôºå‰ΩøÁî® <code>add_executable(Tutorial ${DIR_SRCS})</code></li>
</ul>
<p>ÂèØÈÄâÔºöMacOS + gcc + clangd ÊúÄÂ∞èÈÖçÁΩÆ</p>
<pre><code class="language-shell"># Set the minimum required version of CMake to be 3.10
cmake_minimum_required(VERSION 3.10)

# Create a project named Tutorial
project(Tutorial VERSION 1.0)
# set(Tutorial_VERSION_MAJOR 1)
# set(Tutorial_VERSION_MINOR 0)

# Set the variable CMAKE_CXX_STANDARD to 11
set(CMAKE_CXX_STANDARD 11)
set(CMAKE_CXX_STANDARD_REQUIRED True)
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)

# set -isysroot for macOS # default to macOS [according to gcc version]
if(APPLE)
    set(CMAKE_OSX_SYSROOT /Library/Developer/CommandLineTools/SDKs/MacOSX12.sdk)
    set(CMAKE_OSX_DEPLOYMENT_TARGET 12.0) # [according to gcc built for macos version]
endif()

# Add an executable called Tutorial to the project
aux_source_directory(. DIR_SRCS)
add_executable(Tutorial ${DIR_SRCS})
</code></pre>
<h2 id="ÁîüÊàêlibÂπ∂ÂèØÈÄâ‰ΩøÁî®">ÁîüÊàêlibÂπ∂ÂèØÈÄâ‰ΩøÁî®</h2>
<ul>
<li>ÁîüÊàêlibÔºåÂπ∂Âú®È°πÁõÆ‰∏≠<font color='#458361'>ÂèØÈÄâÂú∞</font>‰ΩøÁî®</li>
</ul>
<p>È°πÁõÆ‰∏≠‰ºöÁîüÊàê lib Â∫ìÊñá‰ª∂ÔºåÂπ∂Âú®ÂÖ∂‰ªñÈÉ®ÂàÜÂèØÈÄâÁöÑÈìæÊé•‰ΩøÁî®ËØ•Â∫ì</p>
<pre><code class="language-shell">cmake_minimum_required(VERSION 3.10)

# set the project name and version
project(Tutorial VERSION 1.0)

# specify the C++ standard
set(CMAKE_CXX_STANDARD 11)
set(CMAKE_CXX_STANDARD_REQUIRED True)
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)

option(USE_MYMATH &quot;Use tutorial provided math implementation&quot; ON)
configure_file(TutorialConfig.h.in TutorialConfig.h)

if(USE_MYMATH)
  add_subdirectory(MathFunctions) # Â≠êÁõÆÂΩï‰ºöÁîüÊàê MathFunctions lib
  list(APPEND EXTRA_LIBS MathFunctions)
  list(APPEND EXTRA_INCLUDES &quot;${PROJECT_SOURCE_DIR}/MathFunctions&quot;)
endif()

# add the executable
add_executable(Tutorial tutorial.cxx)

target_link_libraries(Tutorial PUBLIC ${EXTRA_LIBS})
target_include_directories(Tutorial PUBLIC
                           &quot;${PROJECT_BINARY_DIR}&quot;
                           ${EXTRA_INCLUDES})
</code></pre>
<ol>
<li>
<p>‰ΩøÁî® <code>option</code> ÂëΩ‰ª§ÔºåÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™booleanÂèòÈáè</p>
</li>
<li>
<p>‰ΩøÁî® <code>configure_file</code>  ÂëΩ‰ª§ÔºåÂ∞ÜÈÖçÁΩÆÂ§¥Êñá‰ª∂ÔºåÁªèËøáÂèòÈáèÊõøÊç¢ÁîüÊàêC++ header file:</p>
<ul>
<li><code>@var@</code>  ÂèòÈáèÔºå‰ΩøÁî® CMakeLists.txt ‰∏≠ÂÆö‰πâ‰∏™ÂèòÈáèËøõË°åÊõøÊç¢Ôºõ</li>
<li><code>#cmakedefine</code>  ÊõøÊç¢‰∏∫ <code>#define</code> ÔºåÂ¶ÇÊûúÂêéÈù¢ÂÆö‰πâÁöÑbooleanÂèòÈáèÊòØ <code>ON</code> ÂàôËøõË°åÊõøÊç¢</li>
<li>ÁîüÊàêÁöÑÂ§¥Êñá‰ª∂ÊîæÁΩÆÂú® <code>${PROJECT_BINARY_DIR}</code> ÁõÆÂΩïÔºåÂç≥ cmake ÁöÑ build ÁõÆÂΩï</li>
</ul>
</li>
<li>
<p>‰ΩøÁî® <code>if()</code>  Êù•ÊéßÂà∂Ê∑ªÂä† lib ÁîüÊàêÔºåÂÆö‰πâ <code>EXTRA_LIBS ÂàóË°®</code>Ôºå<code>EXTRA_INCLUDES ÂàóË°®</code>ÔºåÈªòËÆ§‰∏∫Á©∫</p>
</li>
<li>
<p>‰ΩøÁî® <code>target_link_libraries</code>  ÂØπ target ÈìæÊé•ÊåáÂÆöÁöÑÂ∫ì</p>
</li>
<li>
<p>‰ΩøÁî® <code>target_include_directories</code> ÂØπ target Ê∑ªÂä†ÊåáÂÆöÁöÑÂ§¥Êñá‰ª∂ÁõÆÂΩï</p>
</li>
</ol>
<p>ËØ¥ÊòéÔºöÂèØ‰ª•Âú®ÈÖçÁΩÆÈ°πÁõÆÊó∂ÔºåÊåáÂÆö <code>cmake .. -DUSE_MYMATH=OFF</code>  Êù•Ë¶ÜÁõñÂÆö‰πâÁöÑÂÄº</p>
<h2 id="ÁîüÊàêlibÂπ∂ÂèØÈÄâ‰ΩøÁî®interface">ÁîüÊàêlibÂπ∂ÂèØÈÄâ‰ΩøÁî®(<code>INTERFACE</code>)</h2>
<p>ÂØπ‰∏ä‰∏Ä‰∏™ cmake ÊîπËøõÔºå‰πãÂâçÁöÑÂÅöÊ≥ïÈúÄË¶ÅÈìæÊé• <code>lib</code> Â∫ìÊñá‰ª∂ÔºåÂπ∂‰∏îÂú®‰∏äÂ±Ç‰∏≠<font color='#d44c47'>ÈúÄË¶ÅÊòæÁ§∫ÁöÑÊåáÂÆöÂ∫ìÂØπÂ∫îÁöÑ include Â§¥Êñá‰ª∂ÁõÆÂΩï</font>ÔºåÈùûÂ∏∏ÁπÅÁêê„ÄÇ</p>
<p>ÈÄöËøá <code>Usage Requirements</code> Êù•ÊéßÂà∂Â∫ìÂú®ÈìæÊé•Êó∂ÁöÑ‰º†ÈÄíÂ±ûÊÄßÔºå‰ΩøÁî® <code>INTERFACE</code> Êù•Ë°®ËææËØ•ËØ≠‰πâÔºö‰ªªÊÑèÈìæÊé•ËØ•Â∫ì target ÂøÖÈ°ª include ÂΩìÂâç/ÊåáÂÆöÁöÑÊ∫êÁõÆÂΩï(Áî®‰∫éÊêúÁ¥¢Â§¥Êñá‰ª∂)„ÄÇ<code>INTERFACE</code> Ë°®Á§∫<font color='#d44c47'>Ê∂àË¥πËÄÖ</font>ÈúÄË¶ÅÔºå‰ΩÜÊòØÁîü‰∫ßËÄÖ‰∏çÈúÄË¶Å„ÄÇ(ÂØπ‰∫éÂ∫ìËÄåË®ÄÔºåÁîüÊàêÁöÑ lib target ‰∏çÈúÄË¶ÅÔºå‰ΩÜÊòØÈúÄË¶ÅÈìæÊé•ËØ•Â∫ìÁöÑ target ÂøÖÈ°ªÂåÖÂê´ÊåáÂÆöÁöÑÁõÆÂΩï)</p>
<p>Â≠êÁõÆÂΩïÁîüÊàê lib Âπ∂ÊåáÂÆö <code>Usage Requirements</code> ÁöÑ <code>CMakeLists.txt</code> Ôºö</p>
<pre><code class="language-shell">add_library(MathFunctions mysqrt.cxx)

# Hint: Use target_include_directories with the INTERFACE keyword
# Â∞ΩÁÆ° MathFunctions Â∫ì‰∏çÈúÄË¶ÅÂåÖÂê´ÂΩìÂâçÊ∫êÁõÆÂΩïÔºå‰ΩÜÊòØ‰ªª‰ΩïÈìæÊé•Âà∞ MathFunctions ÁöÑÂ∫ìÈÉΩÈúÄË¶ÅÂåÖÂê´ÂΩìÂâçÊ∫êÁõÆÂΩï
target_include_directories(MathFunctions INTERFACE ${CMAKE_CURRENT_SOURCE_DIR})
</code></pre>
<hr>
<p>top-level¬†<code>CMakeLists.txt</code> Ôºö</p>
<pre><code class="language-shell">cmake_minimum_required(VERSION 3.10)

# set the project name and version
project(Tutorial VERSION 1.0)

# specify the C++ standard
set(CMAKE_CXX_STANDARD 11)
set(CMAKE_CXX_STANDARD_REQUIRED True)
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)

# should we use our own math functions
option(USE_MYMATH &quot;Use tutorial provided math implementation&quot; ON)

# configure a header file to pass some of the CMake settings
# to the source code
configure_file(TutorialConfig.h.in TutorialConfig.h)

# add the MathFunctions library
if(USE_MYMATH)
  add_subdirectory(MathFunctions)
  list(APPEND EXTRA_LIBS MathFunctions)
endif()

# add the executable
add_executable(Tutorial tutorial.cxx)

target_link_libraries(Tutorial PUBLIC ${EXTRA_LIBS})
# find TutorialConfig.h
target_include_directories(Tutorial PUBLIC &quot;${PROJECT_BINARY_DIR}&quot;)
</code></pre>
<h2 id="‰ΩøÁî®ÁîüÊàêÂô®Ë°®ËææÂºè">‰ΩøÁî®ÁîüÊàêÂô®Ë°®ËææÂºè</h2>
<blockquote>
<p><a href="https://cmake.org/cmake/help/latest/manual/cmake-generator-expressions.7.html#manual:cmake-generator-expressions(7)">https://cmake.org/cmake/help/latest/manual/cmake-generator-expressions.7.html#manual:cmake-generator-expressions(7)</a></p>
</blockquote>
<p>ÁîüÊàêÂô®Ë°®ËææÂºèÔºå‰∏ªË¶ÅÂèØ‰ª•ÁîüÊàêÂ§çÊùÇÁöÑÊù°‰ª∂Ë°®ËææÂºèÔºåÁî®‰∫éÊù°‰ª∂ÁºñËØëÔºåÊù°‰ª∂ÈìæÊé•Á≠âÁ≠â„ÄÇ</p>
<p>‰æãÂ¶ÇÔºå‰ΩøÁî®‰∏Ä‰∏™ interface library Êù•ÊåáÂÆöÁºñËØëÈÄâÈ°πÔºå‰ΩøÁî®ÁîüÊàêÂô®Ë°®ËææÂºèÂØπ‰∏çÂêåÁöÑÁºñËØëÂô®ÈÄâÊã©‰∏çÂêåÁöÑÁºñËØëÈÄâÈ°πÔºö</p>
<pre><code class="language-shell">cmake_minimum_required(VERSION 3.15)

# set the project name and version
project(Tutorial VERSION 1.0)
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)

# * Creating an interface library called tutorial_compiler_flags
add_library(tutorial_compiler_flags INTERFACE)
target_compile_features(tutorial_compiler_flags INTERFACE cxx_std_11)

# Create helper variables to determine which compiler we are using
set(gcc_like_cxx &quot;$&lt;COMPILE_LANG_AND_ID:CXX,ARMClang,AppleClang,Clang,GNU,LCC&gt;&quot;)
set(msvc_cxx &quot;$&lt;COMPILE_LANG_AND_ID:CXX,MSVC&gt;&quot;)

# With nested generator expressions, only use the flags for the build-tree
target_compile_options(tutorial_compiler_flags INTERFACE
  &quot;$&lt;${gcc_like_cxx}:$&lt;BUILD_INTERFACE:-Wall;-Wextra;-Wshadow;-Wformat=2;-Wunused&gt;&gt;&quot;
  &quot;$&lt;${msvc_cxx}:$&lt;BUILD_INTERFACE:-W3&gt;&gt;&quot;
)

# should we use our own math functions
option(USE_MYMATH &quot;Use tutorial provided math implementation&quot; ON)
configure_file(TutorialConfig.h.in TutorialConfig.h)

# add the MathFunctions library
if(USE_MYMATH)
  add_subdirectory(MathFunctions)
  list(APPEND EXTRA_LIBS MathFunctions)
endif()

# add the executable
add_executable(Tutorial tutorial.cxx)

# Link to tutorial_compiler_flags
target_link_libraries(Tutorial PUBLIC tutorial_compiler_flags ${EXTRA_LIBS})
target_include_directories(Tutorial PUBLIC &quot;${PROJECT_BINARY_DIR}&quot;)
</code></pre>
<ul>
<li>
<p>‰ΩøÁî®ÁîüÊàêÂô®Ë°®ËææÂºèÔºåÊåáÂÆö cmake ÊúÄÂ∞èÁâàÊú¨‰∏∫ <code>3.15</code></p>
</li>
<li>
<p>‰ΩøÁî® <code>INTERFACE</code>  Êù•ÂàõÂª∫‰∏Ä‰∏™Êé•Âè£Â∫ìÔºåÁî®‰∫é‰º†ÈÄí/ÊåáÂÆö <code>Usage Requirements</code></p>
</li>
<li>
<p>Ë°®ËææÂºèÔºö</p>
<ul>
<li><code>$&lt;COMPILE_LANG_AND_ID:CXX,...&gt;</code> Â¶ÇÊûúÁºñËØëÂçïÂÖÉÁöÑËØ≠Ë®ÄÊòØCXXÔºåÂπ∂‰∏îÁºñËØëÂô®ID‰∏éÂêéÈù¢‰πã‰∏ÄÂåπÈÖçÔºåË°®ËææÂºè‰∏∫1Âê¶Âàô‰∏∫0</li>
<li><code>$&lt;BUILD_INTERFACE: STRING&gt;</code> Âú®Áõ∏Âêåbuild‰∏∫<code>STRING</code>ÔºåÂê¶Âàô‰∏∫Á©∫Ôºõ‰∏äÈù¢ÁöÑÁõÆÁöÑÊòØÔºö‰∏∫‰∫Ü‰ΩøÂæóÊàë‰ª¨ <code>installed project</code> ÁöÑÂÖ∂‰ªñÊ∂àË¥πËÄÖ‰∏ç‰ºöÁªßÊâøÁºñËØëÈÄâÈ°πÔºõ</li>
</ul>
</li>
</ul>
<h2 id="install-and-test">install and test</h2>
<p>ÂÆâË£Ö executable | lib | headers</p>
<pre><code class="language-shell">set(installable_libs MathFunctions tutorial_compiler_flags)
install(TARGETS ${installable_libs} DESTINATION lib)
install(FILES MathFunctions.h DESTINATION include/MathFunc)
# bin file
install(TARGETS Tutorial DESTINATION bin)
</code></pre>
<p>ÊûÑÂª∫ÂíåÂÆâË£ÖÔºö</p>
<pre><code class="language-shell">cmake --build .
cmake --install . --prefix &quot;/home/myuser/installdir&quot; # ÊúâÈªòËÆ§ÁöÑ‰ΩçÁΩÆÔºå‰æãÂ¶Ç /usr/local
</code></pre>
<p>ÊàñËÄÖ</p>
<pre><code class="language-shell">cmake --build . --target install
</code></pre>
<h3 id="ÁÆÄÂçïÁöÑÊµãËØïÊ†∑‰æã">ÁÆÄÂçïÁöÑÊµãËØïÊ†∑‰æã</h3>
<pre><code class="language-shell"># enable testing
enable_testing()
# basic test, return value is zero
add_test(NAME Runs COMMAND Tutorial 25)
# verify that the output of the test contains certain strings.
add_test(NAME Correctness COMMAND Tutorial 4 )
set_tests_properties(Correctness PROPERTIES PASS_REGULAR_EXPRESSION &quot;4 is 2&quot;)

# ÂÆö‰πâÂáΩÊï∞ do_test Ê∑ªÂä†Â§ö‰∏™ÊµãËØï
function(do_test target arg result)
  add_test(NAME Comp${arg} COMMAND ${target} ${arg})
  set_tests_properties(Comp${arg}
    PROPERTIES PASS_REGULAR_EXPRESSION ${result}
    )
endfunction()

# do a bunch of result based tests
do_test(Tutorial 4 &quot;4 is 2&quot;)
do_test(Tutorial 9 &quot;9 is 3&quot;)
do_test(Tutorial 5 &quot;5 is 2.236&quot;)
do_test(Tutorial 7 &quot;7 is 2.645&quot;)
do_test(Tutorial 25 &quot;25 is 5&quot;)
do_test(Tutorial -25 &quot;-25 is (-nan|nan|0)&quot;)
do_test(Tutorial 0.0001 &quot;0.0001 is 0.01&quot;)
</code></pre>
<p>ÊûÑÂª∫ÂÆåÊàêÂêéÔºå‰ΩøÁî® <code>ctest -VV</code> ËøõË°åÊµãËØï</p>
<h2 id="Ê∑ªÂä†Á≥ªÁªüÊ£ÄÊü•">Ê∑ªÂä†Á≥ªÁªüÊ£ÄÊü•</h2>
<p>‰æãÂ¶ÇÊµãËØïÁ≥ªÁªüÊòØÂê¶ÊîØÊåÅÊüê‰∏™Â∫ì/ÂáΩÊï∞Ôºö</p>
<pre><code class="language-shell"># does this system provide the log and exp functions?
include(CheckCXXSourceCompiles)
check_cxx_source_compiles(&quot;
  #include &lt;cmath&gt;
  int main() {
    std::log(1.0);
    return 0;
  }
&quot; HAVE_LOG)
check_cxx_source_compiles(&quot;
  #include &lt;cmath&gt;
  int main() {
    std::exp(1.0);
    return 0;
  }
&quot; HAVE_EXP)

if(HAVE_LOG AND HAVE_EXP)
  target_compile_definitions(MathFunctions
                             PRIVATE &quot;HAVE_LOG&quot; &quot;HAVE_EXP&quot;)
endif()
</code></pre>
<p>Ê†πÊçÆÊµãËØïÁªìÊûúÔºåÊ∑ªÂä†ÁºñËØëÂÆö‰πâ <code>target_compile_definitions()</code></p>
<p>ÂÖ∂ÊúÄÁªàÊåá‰ª§ÁªìÊûúÔºö<code>g++ -DHAVE_EXP -DHAVE_LOG</code></p>
<h2 id="Ê∑ªÂä†Ëá™ÂÆö‰πâÂëΩ‰ª§">Ê∑ªÂä†Ëá™ÂÆö‰πâÂëΩ‰ª§</h2>
<p>Âú®buildÂºÄÂßãÂèØ‰ª•ÂÖàÁîüÊàê outputÔºåÁî®‰∫éÂêéÁª≠ÁöÑ target build:</p>
<pre><code class="language-shell">add_executable(MakeTable MakeTable.cxx)
# add a custom command that specifies how to produce Table.h by running MakeTable.
add_custom_command(
  OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/Table.h
  COMMAND MakeTable ${CMAKE_CURRENT_BINARY_DIR}/Table.h
  DEPENDS MakeTable
  )
</code></pre>
<p>build ‰ºöÂÖàÊåáÂÆöËá™ÂÆö‰πâÂëΩ‰ª§‰∏≠ÁöÑÊåáÂÆöÔºåÁîüÊàê output Êñá‰ª∂ÔºåÂú® <code>cmake --build .</code> ÊâßË°å</p>
<p>„ÄêËØ¥ÊòéÔºöÂú®ÊåáÂÆö add_library Á≠âÔºåÂèØ‰ª•ÊåáÂÆö‰æùËµñÁöÑÂ§¥Êñá‰ª∂Áî®‰∫éËØ¥ÊòéÊûÑÂª∫ÁöÑ‰æùËµñÂÖ≥Á≥ª„Äë</p>
<h2 id="ÊâìÂåÖÁ®ãÂ∫è">ÊâìÂåÖÁ®ãÂ∫è</h2>
<p>‰ΩøÁî® <code>CPack</code> Â∞ÜÁîüÊàêÁöÑ‰∫åËøõÂà∂Êñá‰ª∂ÔºåÂ∫ìÂíåÂ§¥Êñá‰ª∂ÊâìÂåÖÊàêÂéãÁº©Êñá‰ª∂ÔºåÂπ∂ÁîüÊàêÁÆÄÊòìÁöÑÊèêÂèñÂÆâË£ÖËÑöÊú¨„ÄÇ</p>
<pre><code class="language-shell"># ËØ•Ê®°ÂùóÂ∞ÜÂåÖÊã¨ÂΩìÂâçÂπ≥Âè∞È°πÁõÆÊâÄÈúÄÁöÑ‰ªª‰ΩïËøêË°åÊó∂Â∫ì
include(InstallRequiredSystemLibraries)
set(CPACK_RESOURCE_FILE_LICENSE &quot;${CMAKE_CURRENT_SOURCE_DIR}/License.txt&quot;)
set(CPACK_PACKAGE_VERSION_MAJOR &quot;${Tutorial_VERSION_MAJOR}&quot;)
set(CPACK_PACKAGE_VERSION_MINOR &quot;${Tutorial_VERSION_MINOR}&quot;)
set(CPACK_SOURCE_GENERATOR &quot;TGZ&quot;) # selects a file format for the source package
include(CPack)
</code></pre>
<p>ÊûÑÂª∫ build ÂêéÔºå‰ΩøÁî® <code>cpack</code>  ÊâìÂåÖÂç≥ÂèØÔºå‰∏ªË¶ÅÂ∑•‰ΩúÔºö</p>
<ul>
<li>
<p>ÂØºÂÖ• InstallRequiredSystemLibraries Ê®°ÂùóÔºå‰ª•‰æø‰πãÂêéÂØºÂÖ• CPack Ê®°ÂùóÔºõ</p>
</li>
<li>
<p>ËÆæÁΩÆ‰∏Ä‰∫õ CPack Áõ∏ÂÖ≥ÂèòÈáèÔºåÂåÖÊã¨ÁâàÊùÉ‰ø°ÊÅØÔºåÁâàÊú¨‰ø°ÊÅØÔºåÂéãÁº©Ê†ºÂºèÔºõ</p>
</li>
<li>
<p>ÂØºÂÖ• CPack Ê®°Âùó„ÄÇ</p>
</li>
</ul>
<h2 id="font-colord44c47Ê∑ªÂä†ÂØºÂá∫ÈÖçÁΩÆfont"><font color='#d44c47'>Ê∑ªÂä†ÂØºÂá∫ÈÖçÁΩÆ</font></h2>
<blockquote>
<p><a href="https://cmake.org/cmake/help/latest/guide/tutorial/Adding%20Export%20Configuration.html#cmakelists-txt-install-export">https://cmake.org/cmake/help/latest/guide/tutorial/Adding Export Configuration.html#cmakelists-txt-install-export</a></p>
</blockquote>
<p>‰æø‰∫é<strong>ÂÖ∂‰ªñ CMake È°πÁõÆ</strong>ÂèØ‰ª•Â§çÁî®Êàë‰ª¨ÁöÑÈ°πÁõÆÔºåÊó†ËÆ∫ÊòØÈÄöËøáÊàë‰ª¨ÁöÑÊûÑÂª∫ÁõÆÂΩï„ÄÅÊú¨Âú∞ÂÆâË£ÖËøòÊòØÊâìÂåÖÊó∂„ÄÇ</p>
<p>Ë°å‰∏∫ÔºöÂú®ÊûÑÂª∫ÁõÆÂΩïbuildÔºåÊú¨Âú∞ÂÆâË£Ö(<code>/usr/local/lib/cmake</code>)ÊàñËÄÖÂú®ÊâìÂåÖÁöÑÊñá‰ª∂Â§π‰∏≠ÁîüÊàê<font color='#d44c47'>cmakeÈÖçÁΩÆÊñá‰ª∂„ÄÇ</font></p>
<p><font color='#d44c47'>Â•ΩÂ§ÑÔºö‰∏çÁî®ÁâπÂà´ÊåáÂÆöÈ°πÁõÆ/Â∫ìÁöÑÁõ∏ÂÖ≥ include/lib Ë∑ØÂæÑÔºåÊñπ‰æø‰ΩøÁî®ÔºàÊåáÂÆö package ÁõÆÂΩïÔºâ</font></p>
<p>ÁîüÊàêÁöÑÊñá‰ª∂Ôºö</p>
<ul>
<li>
<p><code>xxx.cmake</code> ÁõÆÊ†á‰ø°ÊÅØ</p>
</li>
<li>
<p><code>xxxConfig.cmake</code> ÈÄöËøá <code>Config.cmake.in</code>  Êñá‰ª∂ÁîüÊàêÔºå‰ª•‰æø CMake <code>**find_package()**</code>ÂëΩ‰ª§ÂèØ‰ª•ÊâæÂà∞ËØ•È°πÁõÆ(Áî®‰∫é‰øÆÊîπÂåÖÁöÑ <code>PREFIX_DIR</code> Ë∑ØÂæÑ)</p>
</li>
<li>
<p><code>xxxConfigVersion.cmake</code> ËÆ∞ÂΩïËΩØ‰ª∂ÂåÖÁöÑÁâàÊú¨ÂíåÂÖºÂÆπÊÄß</p>
</li>
</ul>
<p>‰ΩøÁî®packageÔºå‰æãÂ¶ÇÊâìÂåÖÂêéÁöÑÁõÆÂΩï‰∏∫Ôºö</p>
<pre><code class="language-shell">Tutorial-1.0-Darwin
‚îú‚îÄ‚îÄ bin
‚îÇ   ‚îî‚îÄ‚îÄ Tutorial
‚îú‚îÄ‚îÄ include
‚îÇ   ‚îú‚îÄ‚îÄ MathFunctions.h
‚îÇ   ‚îî‚îÄ‚îÄ TutorialConfig.h
‚îî‚îÄ‚îÄ lib
    ‚îú‚îÄ‚îÄ cmake
    ‚îÇ   ‚îî‚îÄ‚îÄ MathFunctions
    ‚îÇ       ‚îú‚îÄ‚îÄ MathFunctionsConfig.cmake
    ‚îÇ       ‚îú‚îÄ‚îÄ MathFunctionsConfigVersion.cmake
    ‚îÇ       ‚îú‚îÄ‚îÄ MathFunctionsTargets-noconfig.cmake
    ‚îÇ       ‚îî‚îÄ‚îÄ MathFunctionsTargets.cmake
    ‚îú‚îÄ‚îÄ libMathFunctions.dylib
    ‚îî‚îÄ‚îÄ libSqrtLibrary.a
</code></pre>
<p>‰ΩøÁî®ÈùûÂ∏∏Êñπ‰æøÔºö</p>
<pre><code class="language-shell">list(APPEND CMAKE_PREFIX_PATH  &quot;${PROJECT_SOURCE_DIR}/Tutorial-1.0-Darwin&quot;)
find_package(MathFunctions REQUIRED) 

# add the executable
add_executable(Tutorial tutorial.cxx)
target_link_libraries(Tutorial PUBLIC MathFunctions) # no namespace
</code></pre>
<ul>
<li>‰ΩøÁî® <code>INTERFACE</code> Ëá™Âä®ÂåÖÂê´ÈìæÊé•Â∫ìÁöÑÂ§¥Êñá‰ª∂ÁõÆÂΩï</li>
</ul>
</div>

                <!-- Êñ∞Âä†ÁöÑÊ®°ÂùóÁöÑÔºåÂ∫îËØ•‰ΩøÁî®Ê®°Áâà-->
                <!-- ÁâàÊùÉÂ£∞Êòé -->
                <div class="jumbotron">
                  <div class="container">
                    <p>
                      <i class="ri-article-line"></i>
                      <b>Êú¨ÊñáÈìæÊé•:</b>
                      <a href="" target="_blank">
                        cmakeÁ§∫‰æã
                      </a>
                    </p>
                    <p>
                      <i class="ri-creative-commons-line"></i>
                      <b>ÁâàÊùÉÂ£∞Êòé:</b>
                      Êú¨ÂçöÂÆ¢ÊâÄÊúâÊñáÁ´†Èô§ÁâπÂà´Â£∞ÊòéÂ§ñÔºåÂùáÈááÁî®
                      <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">CC BY-NC-SA
                        4.0</a>
                      ËÆ∏ÂèØÂçèËÆÆÔºåËΩ¨ËΩΩËØ∑Ê≥®ÊòéÂá∫Â§Ñ„ÄÇ
                    </p>
                    <p>
                      <i class="ri-time-line"></i>
                      <b>ÂèëÂ∏ÉÊó•Êúü:</b>
                      2022-10-29
                    </p>
                  </div>
                </div>
                <!-- Êñ∞Âä†ÁöÑÊ®°ÂùóÁöÑÔºåÂ∫îËØ•‰ΩøÁî®Ê®°Áâà-->
                <!--ÈòÖËØªÊ¨°Êï∞-->
                <div class="text-center text-gray-400">
                  <i class="ri-eye-line"></i>
                  Êú¨ÊñáÂ∑≤Ë¢´ÈòÖËØª
                  <span id="twikoo_visitors">0</span>
                  Ê¨°ÔºåËØ•Êï∞ÊçÆ‰ªÖ‰æõÂèÇËÄÉ
                </div>

                <!-- Share to Twitter, Weibo, Telegram -->
                <div class="flex items-center">
                  <div class="mr-4 flex items-center">
                    <i class="ri-share-forward-line text-gray-500"></i>
                  </div>
                  <div class="px-4 cursor-pointer text-blue-500 hover:bg-blue-100 dark:hover:bg-gray-600 inline-flex"
                    @click="shareToTwitter">
                    <i class="ri-twitter-line"></i>
                  </div>
                  <div class="px-4 cursor-pointer text-red-500 hover:bg-red-100 dark:hover:bg-gray-600 inline-flex"
                    @click="shareToWeibo">
                    <i class="ri-weibo-line"></i>
                  </div>
                  <div
                    class="px-4 cursor-pointer text-indigo-500 hover:bg-indigo-100 dark:hover:bg-gray-600 inline-flex"
                    @click="shareToTelegram">
                    <i class="ri-telegram-line"></i>
                  </div>
                </div>
          </div>

          <!-- Êñ∞Âä†ÁöÑÊ®°ÂùóÁöÑÔºåÂ∫îËØ•‰ΩøÁî®Ê®°Áâà-->
          <!-- ËØÑËÆ∫ËØ¥Êòé-->
          <div class="jumbotron-comment">
            <div class="container">
              <p>
                <i class="ri-message-3-line"></i>
                Ê¨¢Ëøé‰ªª‰Ωï‰∏éÊñáÁ´†ÂÜÖÂÆπÁõ∏ÂÖ≥Âπ∂‰øùÊåÅÂ∞äÈáçÁöÑËØÑËÆ∫üòä !
              </p>
            </div>
          </div>

          
                        
                            
                              <div id="tcomment"></div>
                               <footer class="py-12 text-center px-4 md:px-0" v-pre>
  ÂÖ± 43 ÁØáÊñáÁ´† | Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <i class="ri-rss-line"></i><a href="https://blog.qxxiao.eu.org/atom.xml" target="_blank" target="_blank">RSS</a></br>
¬©2020-2024 <a href="https://blog.qxxiao.eu.org/index.html" target="_blank">Nuo</a>. All rights reserved.
</footer>

<!--Ê≤°ÊúâÊ∑ªÂä†/Áî®Âà∞app ‰∏≠ÁöÑ‰∏ªÈ¢òfooterÈÖçÁΩÆÊ∂àÊÅØÔºåÂ¶ÇÊûú‰ΩøÁî®ÔºåÂ∞Ü‰∏äÈù¢ÁöÑ href ÊõøÊç¢‰∏∫ÂéüÂú∞ÂùÄ-->
<!---->

        </div>

        <!-- TOC Container -->
        <div
          class="fixed right-0 bottom-0 mb-16 mr-4 shadow w-8 h-8 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white dark:bg-gray-500 dark:text-gray-200 hover:shadow-lg transition-all animated fadeInRight"
          @click="showToc = true">
          <i class="ri-file-list-line"></i>
        </div>

        <div v-cloak
          class="fixed right-0 top-0 bottom-0 overflow-y-auto w-64 bg-white dark:bg-gray-800 p-4 border-l border-gray-100 dark:border-gray-600 z-10 transition-fast"
          :class="{ '-mr-64': !showToc }">
          <div class="flex mb-4 justify-end">
            <div
              class="w-8 h-8 inline-flex justify-center items-center rounded-full cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-fast"
              @click="showToc = false">
              <i class="ri-close-line text-lg"></i>
            </div>
          </div>
          <div class="post-toc-container"><ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E5%9F%BA%E7%A1%80">Âü∫Á°Ä</a></li>
<li><a href="#%E7%94%9F%E6%88%90lib%E5%B9%B6%E5%8F%AF%E9%80%89%E4%BD%BF%E7%94%A8">ÁîüÊàêlibÂπ∂ÂèØÈÄâ‰ΩøÁî®</a></li>
<li><a href="#%E7%94%9F%E6%88%90lib%E5%B9%B6%E5%8F%AF%E9%80%89%E4%BD%BF%E7%94%A8interface">ÁîüÊàêlibÂπ∂ÂèØÈÄâ‰ΩøÁî®(<code>INTERFACE</code>)</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8%E7%94%9F%E6%88%90%E5%99%A8%E8%A1%A8%E8%BE%BE%E5%BC%8F">‰ΩøÁî®ÁîüÊàêÂô®Ë°®ËææÂºè</a></li>
<li><a href="#install-and-test">install and test</a>
<ul>
<li><a href="#%E7%AE%80%E5%8D%95%E7%9A%84%E6%B5%8B%E8%AF%95%E6%A0%B7%E4%BE%8B">ÁÆÄÂçïÁöÑÊµãËØïÊ†∑‰æã</a></li>
</ul>
</li>
<li><a href="#%E6%B7%BB%E5%8A%A0%E7%B3%BB%E7%BB%9F%E6%A3%80%E6%9F%A5">Ê∑ªÂä†Á≥ªÁªüÊ£ÄÊü•</a></li>
<li><a href="#%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E5%91%BD%E4%BB%A4">Ê∑ªÂä†Ëá™ÂÆö‰πâÂëΩ‰ª§</a></li>
<li><a href="#%E6%89%93%E5%8C%85%E7%A8%8B%E5%BA%8F">ÊâìÂåÖÁ®ãÂ∫è</a></li>
<li><a href="#font-colord44c47%E6%B7%BB%E5%8A%A0%E5%AF%BC%E5%87%BA%E9%85%8D%E7%BD%AEfont"><font color='#d44c47'>Ê∑ªÂä†ÂØºÂá∫ÈÖçÁΩÆ</font></a></li>
</ul>
</li>
</ul>
</div>
        </div>

        <!-- Back to top -->
        <div v-cloak
          class="fixed right-0 bottom-0 mb-4 mr-4 shadow w-8 h-8 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white hover:shadow-lg transition-all dark:bg-gray-500 dark:text-gray-200"
          @click="backToUp" v-show="scrolled">
          <i class="ri-arrow-up-line"></i>
        </div>
    </div>

    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- Background of PhotoSwipe. 
        It's a separate element as animating opacity is faster than rgba(). -->
  <div class="pswp__bg">
  </div>
  <!-- Slides wrapper with overflow:hidden. -->
  <div class="pswp__scroll-wrap">
    <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
    <div class="pswp__container">
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
    </div>
    <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
    <div class="pswp__ui pswp__ui--hidden">
      <div class="pswp__top-bar">
        <!--  Controls are self-explanatory. Order can be changed. -->
        <div class="pswp__counter">
        </div>
        <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
        <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
        <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
        <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
        <!-- element will get class pswp__preloader--active when preloader is running -->
        <div class="pswp__preloader">
          <div class="pswp__preloader__icn">
            <div class="pswp__preloader__cut">
              <div class="pswp__preloader__donut">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
        <div class="pswp__share-tooltip">
        </div>
      </div>
      <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
      </button>
      <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
      </button>
      <div class="pswp__caption">
        <div class="pswp__caption__center">
        </div>
      </div>
    </div>
  </div>
</div>

      <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
      <script src="https://blog.qxxiao.eu.org/media/scripts/main.js"></script>

      <!-- Code Highlight -->
      
        <script src="https://blog.qxxiao.eu.org/media/prism.js"></script>
        <script>
          Prism.highlightAll();
        </script>
        <script defer
          src="https://cdn.bootcdn.net/ajax/libs/prism/1.19.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
        <script defer
          src="https://cdn.bootcdn.net/ajax/libs/prism/1.19.0/plugins/toolbar/prism-toolbar.min.js"></script>
        <script defer
          src="https://cdn.bootcdn.net/ajax/libs/prism/1.19.0/plugins/show-language/prism-show-language.min.js"></script>
        <script defer
          src="https://cdn.bootcdn.net/ajax/libs/prism/1.19.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
        

          <script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
          <script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>
          <script>
            //ÊãøÂà∞È¢ÑËßàÊ°ÜÊû∂Ôºå‰πüÂ∞±ÊòØ‰∏äÈù¢ÁöÑhtml‰ª£Á†Å
            var pswpElement = document.querySelectorAll('.pswp')[0]
            //ÂÆö‰πâÂõæÁâáÊï∞ÁªÑÂèòÈáè
            var imgitems
            /**
             * Áî®‰∫éÊòæÁ§∫È¢ÑËßàÁïåÈù¢
             * @param index ÂõæÁâáÊï∞ÁªÑ‰∏ãÊ†á
             */
            function viewImg(index) {
              var pswpoptions = {
                index: parseInt(index, 10), // ÂºÄÂßãÂπªÁÅØÁâáÁ¥¢Âºï„ÄÇ0ÊòØÁ¨¨‰∏ÄÂº†ÂπªÁÅØÁâá„ÄÇÂøÖÈ°ªÊòØÊï¥Êï∞ÔºåËÄå‰∏çÊòØÂ≠óÁ¨¶‰∏≤„ÄÇ
                bgOpacity: 0.7, // ËÉåÊôØÈÄèÊòéÂ∫¶Ôºå0-1
                maxSpreadZoom: 3, // Áº©ÊîæÁ∫ßÂà´Ôºå‰∏çË¶ÅÂ§™Â§ß
              }
              //ÂàùÂßãÂåñÂπ∂ÊâìÂºÄPhotoSwipeÔºåpswpElementÂØπÂ∫î‰∏äÈù¢È¢ÑËßàÊ°ÜÊû∂ÔºåPhotoSwipeUI_Default‰∏∫ÁöÆËÇ§Ôºåimgitems‰∏∫ÂõæÁâáÊï∞ÁªÑÔºåpswpoptions‰∏∫ÈÄâÈ°π
              var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, imgitems, pswpoptions)
              gallery.init()
            }
            /**
             * Áî®‰∫éÊ∑ªÂä†ÂõæÁâáÁÇπÂáª‰∫ã‰ª∂
             * @param img ÂõæÁâáÂÖÉÁ¥†
             * @param index ÊâÄÂ±û‰∏ãÊ†áÔºàÂú®imgitems‰∏≠ÁöÑ‰ΩçÁΩÆÔºâ
             */
            function addImgClick(img, index) {
              img.onclick = function () {
                viewImg(index)
              }
            }
            /**
             * ËΩÆËØ¢ÊâÄÊúâÂõæÁâáÔºåËé∑Âèñsrc„ÄÅwidth„ÄÅheightÁ≠âÊï∞ÊçÆÔºåÂä†ÂÖ•imgitemsÔºåÂπ∂ÁªôÂõæÁâáÂÖÉÁ¥†Ê∑ªÂä†‰∫ã‰ª∂
             * ÊúÄÂ•ΩÂú®onload‰∏≠ÊâßË°åËØ•ÊñπÊ≥ïÔºåÊú¨Á´ôÂõ†ÊîæÂú®ÊúÄÂ∫ïÈÉ®ÔºåÊâÄ‰ª•Áõ¥Êé•ÂàùÂßãÂåñ
             * ÂºÇÊ≠•Âä†ËΩΩÂõæÁâáÂèØÂú®ÂõæÁâáÂÖÉÁ¥†ÂàõÂª∫ÂÆåÊàêÂêéË∞ÉÁî®Ê≠§ÊñπÊ≥ï
             */
            function initImg() {
              //ÈáçÁΩÆÂõæÁâáÊï∞ÁªÑ
              imgitems = []
              //Êü•Êâæclass:markdown ‰∏ãÁöÑÊâÄÊúâimgÂÖÉÁ¥†Âπ∂ÈÅçÂéÜ
              var imgs = document.querySelectorAll('.markdown img')
              for (var i = 0; i < imgs.length; i++) {
                var img = imgs[i]
                //Êú¨Á´ôÁõ∏ÂÜåÂàùÂßã‰∏∫loadingÂõæÁâáÔºåÁúüÂÆûÂõæÁâáÊîæÂú®data-src
                var ds = img.getAttribute('data-src')
                //ÂàõÂª∫imageÂØπË±°ÔºåÁî®‰∫éËé∑ÂèñÂõæÁâáÂÆΩÈ´ò
                var imgtemp = new Image()
                //Âà§Êñ≠ÊòØÂê¶Â≠òÂú®data-src
                if (ds != null && ds.length > 0) {
                  imgtemp.src = ds
                } else {
                  imgtemp.src = img.src
                }
                //Âà§Êñ≠ÊòØÂê¶Â≠òÂú®ÁºìÂ≠ò
                if (imgtemp.complete) {
                  var imgobj = {
                    src: imgtemp.src,
                    w: imgtemp.width,
                    h: imgtemp.height,
                  }
                  imgitems[i] = imgobj
                  addImgClick(img, i)
                } else {
                  imgtemp.index = i
                  imgtemp.img = img
                  imgtemp.onload = function () {
                    var imgobj = {
                      src: this.src,
                      w: this.width,
                      h: this.height,
                    }
                    //‰∏çË¶Å‰ΩøÁî®pushÔºåÂõ†‰∏∫onloadÂâçÂêéÈ°∫Â∫è‰ºö‰∏çÂêå
                    imgitems[this.index] = imgobj
                    //Ê∑ªÂä†ÁÇπÂáª‰∫ã‰ª∂
                    addImgClick(this.img, this.index)
                  }
                }
              }
            }
            //ÂàùÂßãÂåñ
            initImg();
          </script>
          
                
                          
                            <script src="https://cdn.jsdelivr.net/npm/twikoo@1.6.27/dist/twikoo.all.min.js"></script>
                            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"
                              integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X"
                              crossorigin="anonymous" />
                            <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"
                              integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4"
                              crossorigin="anonymous"></script>
                            <script defer
                              src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js"
                              integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa"
                              crossorigin="anonymous"></script>
                            <script>
                              twikoo.init({
                                envId: 'https://twikoo.qxxiao.cn/',
                                el: '#tcomment',
                                katex: {
                                  delimiters: [
                                    { left: '$$', right: '$$', display: true },
                                    { left: '$', right: '$', display: false },
                                    { left: '\\(', right: '\\)', display: false },
                                    { left: '\\[', right: '\\]', display: true },
                                  ],
                                  throwOnError: false,
                                },
                                // region: 'ap-guangzhou', // ÁéØÂ¢ÉÂú∞ÂüüÔºåÈªòËÆ§‰∏∫ ap-shanghaiÔºåÂ¶ÇÊûúÊÇ®ÁöÑÁéØÂ¢ÉÂú∞Âüü‰∏çÊòØ‰∏äÊµ∑ÔºåÈúÄ‰º†Ê≠§ÂèÇÊï∞
                                // path: 'window.location.pathname', // Áî®‰∫éÂå∫ÂàÜ‰∏çÂêåÊñáÁ´†ÁöÑËá™ÂÆö‰πâ js Ë∑ØÂæÑÔºåÂ¶ÇÊûúÊÇ®ÁöÑÊñáÁ´†Ë∑ØÂæÑ‰∏çÊòØ location.pathnameÔºåÈúÄ‰º†Ê≠§ÂèÇÊï∞
                              });
                            </script>
                            

                              <!-- line number for code block -->
                              <script>
                                var pres = document.getElementsByTagName('pre')
                                for (var i = 0; i < pres.length; i++) {
                                  var pre = pres[i]
                                  if (pre.childNodes[0].nodeName == 'CODE') {
                                    pre.setAttribute('class', 'line-numbers')
                                  }
                                }
                              </script>
                              
                                <script src="https://blog.qxxiao.eu.org/media/scripts/ldbutton.js"></script>

  </body>

</html>