<!DOCTYPE html>
<html lang="en">

  <head>
    <!--ÊØè‰∏™È°µÈù¢ÈÉΩÈúÄË¶Å head linkÁ≠â  -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>
  Ê±áÁºñÂü∫Á°ÄÂíåÂáΩÊï∞Ë∞ÉÁî®ABI - Unique&#39;s Blog
</title>
<link rel="shortcut icon" href="https://blog.qxxiao.eu.org/favicon.ico">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css">
<link rel="stylesheet" href="https://blog.qxxiao.eu.org/media/css/tailwind.css">
<link rel="stylesheet" href="https://blog.qxxiao.eu.org/media/css/ldbutton.css">

<link rel="stylesheet" href="https://blog.qxxiao.eu.org/styles/main.css">
<script src="https://blog.qxxiao.eu.org/media/scripts/initTheme.js"></script>
<link rel="stylesheet" href="https://blog.qxxiao.eu.org/media/css/light-dark.css">

<link rel="alternate" type="application/atom+xml" title="Ê±áÁºñÂü∫Á°ÄÂíåÂáΩÊï∞Ë∞ÉÁî®ABI - Unique&#39;s Blog - Atom Feed"
  href="https://blog.qxxiao.eu.org/atom.xml">


      <meta name="description" content="ÂÜÖÂÆπÔºöÁÆÄÂçïÊÄªÁªì x86 Ê±áÁºñÂü∫Á°ÄÂíåÂáΩÊï∞Ë∞ÉÁî®ÁöÑËøáÁ®ãÔºå‰ΩÜÂè™Ê∂âÂèäÂèØÁî®Êåá‰ª§ÂíåÊ±áÁºñÊåá‰ª§ÁöÑ‰∏ÄÂ∞èÈÉ®ÂàÜÔºå‰ΩÜÈùûÂ∏∏ÊúâÁî®„ÄÇ‰∏ªË¶ÅÈááÁî® GNU Ê±áÁºñÂô®(GAS) ÁöÑ AT&amp;amp;T ËØ≠Ê≥ïËøõË°åËØ¥Êòé„ÄÇ

Ë°•ÂÖÖÁöÑËµÑÊñôÔºö

x86 and amd64 instructio..." />
      <meta property="og:title" content="Ê±áÁºñÂü∫Á°ÄÂíåÂáΩÊï∞Ë∞ÉÁî®ABI - Unique&#39;s Blog" />
      <meta property="og:description" content="ÂÜÖÂÆπÔºöÁÆÄÂçïÊÄªÁªì x86 Ê±áÁºñÂü∫Á°ÄÂíåÂáΩÊï∞Ë∞ÉÁî®ÁöÑËøáÁ®ãÔºå‰ΩÜÂè™Ê∂âÂèäÂèØÁî®Êåá‰ª§ÂíåÊ±áÁºñÊåá‰ª§ÁöÑ‰∏ÄÂ∞èÈÉ®ÂàÜÔºå‰ΩÜÈùûÂ∏∏ÊúâÁî®„ÄÇ‰∏ªË¶ÅÈááÁî® GNU Ê±áÁºñÂô®(GAS) ÁöÑ AT&amp;amp;T ËØ≠Ê≥ïËøõË°åËØ¥Êòé„ÄÇ

Ë°•ÂÖÖÁöÑËµÑÊñôÔºö

x86 and amd64 instructio..." />
      <meta property="og:type" content="articles" />
      <meta property="og:url" content="https://blog.qxxiao.eu.org/post/Ê±áÁºñÂü∫Á°ÄÂíåÂáΩÊï∞Ë∞ÉÁî®ABI/" />
      <meta property="og:image"
        content="https://pic.qxxiao.cn/cpp-logo.png" />
      <meta property="og:image:height" content="630" />
      <meta property="og:image:width" content="1200" />
      <meta name="twitter:title" content="Ê±áÁºñÂü∫Á°ÄÂíåÂáΩÊï∞Ë∞ÉÁî®ABI - Unique&#39;s Blog" />
      <meta name="twitter:description" content="ÂÜÖÂÆπÔºöÁÆÄÂçïÊÄªÁªì x86 Ê±áÁºñÂü∫Á°ÄÂíåÂáΩÊï∞Ë∞ÉÁî®ÁöÑËøáÁ®ãÔºå‰ΩÜÂè™Ê∂âÂèäÂèØÁî®Êåá‰ª§ÂíåÊ±áÁºñÊåá‰ª§ÁöÑ‰∏ÄÂ∞èÈÉ®ÂàÜÔºå‰ΩÜÈùûÂ∏∏ÊúâÁî®„ÄÇ‰∏ªË¶ÅÈááÁî® GNU Ê±áÁºñÂô®(GAS) ÁöÑ AT&amp;amp;T ËØ≠Ê≥ïËøõË°åËØ¥Êòé„ÄÇ

Ë°•ÂÖÖÁöÑËµÑÊñôÔºö

x86 and amd64 instructio..." />
      <meta name="twitter:card" content="summary_large_image" />
      <link rel="canonical" href="https://blog.qxxiao.eu.org/post/Ê±áÁºñÂü∫Á°ÄÂíåÂáΩÊï∞Ë∞ÉÁî®ABI/" />

      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css" />
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css" />

      
        <link rel="stylesheet"
          href="https://blog.qxxiao.eu.org/media/css/prism-vs-dark.css" />
        <link href="https://cdn.bootcdn.net/ajax/libs/prism/1.19.0/plugins/line-numbers/prism-line-numbers.min.css"
          rel="stylesheet" />
        <link href="https://cdn.bootcdn.net/ajax/libs/prism/1.19.0/plugins/toolbar/prism-toolbar.min.css"
          rel="stylesheet" />
        
          
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" />
            
  </head>

  <body>
    <div class="antialiased flex flex-col min-h-screen" id="app">
      <!-- Ê†áÈ¢òËèúÂçï -->
<div class="nav py-3 md:py-8 fixed w-full z-10 bg-gray-50 dark:bg-gray-700 transition-all duration-300"
  :class="{ 'scroll': scrolled }">
  <div class="flex justify-end px-4">
    <div class="w-8 h-8 flex justify-center items-center rounded-full md:hidden" @click="showMenu = !showMenu">
      <i class="ri-close-line" v-show="showMenu"></i>
      <i class="ri-menu-3-line" v-show="!showMenu"></i>
    </div>
  </div>
  <nav cloak class="max-w-4xl w-full mx-auto text-right flex flex-col md:flex-row justify-between items-center md:flex"
    :class="`${ showMenu ? 'flex' : 'hidden' }`">
    
      <!-- Â¶ÇÊûú menu ÊòØ "Êó∂ÂÖâ"Ôºå Ê∏≤Êüì‰∏∫‰∏Ä‰∏™hoverÊòæÁ§∫‰∏ãÊãâÊ°ÜÁªÑ‰ª∂-->
      
          <a href="/" target=""
            class="py-2 md:py-1 px-4 mx-4 inline-flex transition font-semibold rounded dark:hover:bg-gray-600 hover:bg-gray-200">
            È¶ñÈ°µ
          </a>
          
            
      <!-- Â¶ÇÊûú menu ÊòØ "Êó∂ÂÖâ"Ôºå Ê∏≤Êüì‰∏∫‰∏Ä‰∏™hoverÊòæÁ§∫‰∏ãÊãâÊ°ÜÁªÑ‰ª∂-->
      
          <a href="/archives" target=""
            class="py-2 md:py-1 px-4 mx-4 inline-flex transition font-semibold rounded dark:hover:bg-gray-600 hover:bg-gray-200">
            ÂΩíÊ°£
          </a>
          
            
      <!-- Â¶ÇÊûú menu ÊòØ "Êó∂ÂÖâ"Ôºå Ê∏≤Êüì‰∏∫‰∏Ä‰∏™hoverÊòæÁ§∫‰∏ãÊãâÊ°ÜÁªÑ‰ª∂-->
      
          <a href="/tags" target=""
            class="py-2 md:py-1 px-4 mx-4 inline-flex transition font-semibold rounded dark:hover:bg-gray-600 hover:bg-gray-200">
            Ê†áÁ≠æ
          </a>
          
            
      <!-- Â¶ÇÊûú menu ÊòØ "Êó∂ÂÖâ"Ôºå Ê∏≤Êüì‰∏∫‰∏Ä‰∏™hoverÊòæÁ§∫‰∏ãÊãâÊ°ÜÁªÑ‰ª∂-->
      
          <a href="https://gh.qxxiao.cn/nav" target=""
            class="py-2 md:py-1 px-4 mx-4 inline-flex transition font-semibold rounded dark:hover:bg-gray-600 hover:bg-gray-200">
            ÂØºËà™
          </a>
          
            
      <!-- Â¶ÇÊûú menu ÊòØ "Êó∂ÂÖâ"Ôºå Ê∏≤Êüì‰∏∫‰∏Ä‰∏™hoverÊòæÁ§∫‰∏ãÊãâÊ°ÜÁªÑ‰ª∂-->
      
        <div
          class="py-2 md:py-1 px-4 mx-4 inline-flex transition font-semibold dark:hover:bg-gray-600 hover:bg-gray-200 nav-time1">
          Êó∂ÂÖâ
            <div class="transition font-semibold nav-time2">
              
                <a href="https://blog.qxxiao.eu.org/diary/" class="">
                  ËØ¥ËØ¥
                </a>
                
                <a href="https://blog.qxxiao.eu.org/gallery/" class="">
                  Áõ∏ÂÜå
                </a>
                
                <a href="https://blog.qxxiao.eu.org/post/book/" class="">
                  ‰π¶Âçï
                </a>
                
            </div>
        </div>
        
            
      <!-- Â¶ÇÊûú menu ÊòØ "Êó∂ÂÖâ"Ôºå Ê∏≤Êüì‰∏∫‰∏Ä‰∏™hoverÊòæÁ§∫‰∏ãÊãâÊ°ÜÁªÑ‰ª∂-->
      
          <a href="/post/about" target=""
            class="py-2 md:py-1 px-4 mx-4 inline-flex transition font-semibold rounded dark:hover:bg-gray-600 hover:bg-gray-200">
            ÂÖ≥‰∫é
          </a>
          
            
              <!-- <a href="https://blog.qxxiao.eu.org/atom.xml" target="_blank" class="py-2 md:py-1 px-4 mx-4 inline-flex transition font-semibold rounded dark:hover:bg-gray-600 hover:bg-gray-200">
      RSS
    </a> -->
              <!-- ÈªëËâ≤Ê®°ÂºèÔºåÂíå‰∫ÆËâ≤Ê®°ÂºèÂºÄÂÖ≥-->
<div class="py-2 md:py-1 inline-flex transition font-semibold rounded dark:hover:bg-gray-600 hover:bg-gray-200">
  <label for="night-light-checkbox" class="night-light-label">
    <input type="checkbox" id="night-light-checkbox" @change="toggleDarkMode" />
    <span v-cloak class="night-light-ball" id="night-light-ball"></span>
    <svg viewBox="0 0 512 512" class="sun-svg">
      <path id="sun-svg"
        d="M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z">
      </path>
    </svg>
    <svg viewBox="0 0 512 512" class="moon-svg">
      <path id="moon-svg"
        d="M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z">
      </path>
    </svg>
  </label>
</div>
                <form id="gridea-search-form" class="inline-flex mx-4 px-4" action="https://blog.qxxiao.eu.org/search/">
                  <input type="search" autocomplete='off' spellcheck='false' name="q" />
                </form>
  </nav>

</div>
        <a href="https://blog.qxxiao.eu.org"
          class="fixed top-0 left-0 mt-4 bg-black text-white dark:text-gray-700 dark:bg-yellow-50 dark:hover:bg-black dark:hover:text-white inline-flex p-2 pl-8 hover:text-gray-700 hover:bg-yellow-50 font-bold z-10">
          Unique&#39;s Blog
        </a>
        <div class="max-w-4xl w-full mx-auto">
          <div class="shadow-box bg-white dark:bg-gray-600 rounded-lg pt-32 px-4 md:px-8 pb-8 mb-8">
            <h1 class="text-5xl font-semibold leading-normal pb-8 mb-8 border-b-8 border-gray-700">
              Ê±áÁºñÂü∫Á°ÄÂíåÂáΩÊï∞Ë∞ÉÁî®ABI
            </h1>
            <!-- ‰∏çÊòæÁ§∫ Post ‰∏≠ÁöÑÂ∞ÅÈù¢ÂõæÁâá -->
            
                <div class="mb-8 flex flex-wrap">
                  <div class="text-gray-400 text-sm mr-4">
                    <i class="ri-calendar-2-line" style="vertical-align: middle;"></i>
                    2024-07-23 ¬∑
                      <i class="ri-file-word-line" style="vertical-align: middle;"></i>
                      3665Â≠ó ¬∑
                        <i class="ri-timer-line" style="vertical-align: middle;"></i>
                        14 min read
                  </div>
                  üè∑Ô∏è&nbsp;
                      
                        <a href="https://blog.qxxiao.eu.org/tag/c/"
                          class="text-indigo-500 text-sm border-b-2 border-solid border-indigo-500 hover:border-gray-600 transition-all duration-100 inline-flex mr-2">
                          <i class="ri-hashtag" style="vertical-align: middle;"></i>
                          C++
                        </a>
                        
                </div>
                <div class="markdown mb-8" v-pre><p>ÂÜÖÂÆπÔºöÁÆÄÂçïÊÄªÁªì x86 Ê±áÁºñÂü∫Á°ÄÂíåÂáΩÊï∞Ë∞ÉÁî®ÁöÑËøáÁ®ãÔºå‰ΩÜÂè™Ê∂âÂèäÂèØÁî®Êåá‰ª§ÂíåÊ±áÁºñÊåá‰ª§ÁöÑ‰∏ÄÂ∞èÈÉ®ÂàÜÔºå‰ΩÜÈùûÂ∏∏ÊúâÁî®„ÄÇ‰∏ªË¶ÅÈááÁî® GNU Ê±áÁºñÂô®(GAS) ÁöÑ AT&amp;T ËØ≠Ê≥ïËøõË°åËØ¥Êòé„ÄÇ</p>
<!--more-->
<p>Ë°•ÂÖÖÁöÑËµÑÊñôÔºö</p>
<ul>
<li><a href="https://www.felixcloutier.com/x86/">x86 and amd64 instruction reference</a></li>
<li><a href="https://ggbaker.ca/295/">CMPT 295 Lecture Notes</a></li>
</ul>
<h2 id="1ÂØÑÂ≠òÂô®">1.ÂØÑÂ≠òÂô®</h2>
<h3 id="x86-ÂØÑÂ≠òÂô®">x86 ÂØÑÂ≠òÂô®</h3>
<p><strong>x86 Â§ÑÁêÜÂô®</strong>Êúâ 8 ‰∏™ÈÄöÁî®ÂØÑÂ≠òÂô®ÔºåÂ¶Ç‰∏ãÂõæÔºåÂÖ∂‰∏≠ EAX ËøáÂéªË¢´Áß∞‰∏∫Á¥ØÂä†Âô®ÔºåÂõ†‰∏∫ÂÆÉË¢´ËÆ∏Â§öÁÆóÊúØËøêÁÆó‰ΩøÁî®ÔºõECX Ë¢´Áß∞‰∏∫ËÆ°Êï∞Âô®ÔºåÂõ†‰∏∫ÂÆÉË¢´Áî®Êù•‰øùÂ≠òÂæ™ÁéØÁ¥¢ÂºïÔºåÁÑ∂ËÄåÁé∞Âú®Âü∫Êú¨‰∏äÂ§±Âéª‰∫ÜÂÖ∂‰∏ìÊúâÁõÆÁöÑÔºåÊàê‰∏∫ÈÄöÁî®ÂØÑÂ≠òÂô®„ÄÇ‰ΩÜÊòØ <code>EBP</code> ÈÄöÂ∏∏Áî®‰∫éÊ†àÂü∫ÊåáÈíàÔºå<code>ESP</code> Áî®‰∫éÊ†àÈ°∂ÊåáÈíà„ÄÇ</p>
<ul>
<li>x86 Â§ÑÁêÜÂô®ÔºåÈÄöÁî®ÂØÑÂ≠òÂô®ÊòØ 32 ‰ΩçÁöÑÔºåÂØÑÂ≠òÂô® <code>EAX</code>„ÄÅ<code>EBX</code>„ÄÅ<code>ECX</code>„ÄÅ<code>EDX</code> ËøòÂèØ‰ª•ÂàÜÂà´ËÆøÈóÆÂÖ∂‰ΩéÂú∞ÂùÄÁöÑ 16 ‰ΩçÔºåÂíåÂÖ∂‰∏≠ÁöÑÈ´ò‰ΩéÂ≠óËäÇ„ÄÇÂ¶Ç‰∏ãÂõæ‰∏≠ÊâÄÁ§∫„ÄÇ</li>
<li>Ê±áÁºñËØ≠Ë®Ä‰∏≠ÔºåÂØÑÂ≠òÂô®ÂêçÁß∞ÊòØ‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜôÁöÑ„ÄÇ</li>
</ul>
<img src="https://pic.qxxiao.cn/202407272024106.png" alt="x86 registers" style="width:600px;">
<ul>
<li><strong>32 ‰ΩçÁ≥ªÁªü‰∏≠</strong>ÔºåË∞ÉÁî®ËÄÖÈúÄË¶Å‰øùÂ≠òÁöÑÂØÑÂ≠òÂô® caller-saved Êúâ <code>EAX</code>„ÄÅ<code>ECX</code>„ÄÅ<code>EDX</code>ÔºåË¢´Ë∞ÉÁî®ËÄÖ callee-saved ÈúÄË¶Å‰øùÂ≠òÁöÑÂØÑÂ≠òÂô®Êúâ <code>EBP</code>„ÄÅ<code>EBX</code>„ÄÅ<code>EDI</code>„ÄÅ<code>ESI</code>„ÄÇ</li>
</ul>
<h3 id="x86-64-ÂØÑÂ≠òÂô®">x86-64 ÂØÑÂ≠òÂô®</h3>
<p><strong>x86-64 Â§ÑÁêÜÂô®</strong>Êâ©Â±ï‰∫Ü‰∏äËø∞ÈÄöÁî®ÂØÑÂ≠òÂô®Âà∞ 64 ‰ΩçÔºåÂπ∂Â¢ûÂä†‰∫Ü‰∏Ä‰∫õÊñ∞ÁöÑÂØÑÂ≠òÂô®ÔºåÂ¶Ç <code>R8ÔΩûR15</code>ÔºåÊâÄ‰ª•Êúâ 16 ‰∏™ 64 ‰ΩçÂØÑÂ≠òÂô®„ÄÇ‰ΩÜÊòØÔºå‰∏∫‰∫ÜÂêëÂêéÂÖºÂÆπÔºå32 ‰ΩçÂØÑÂ≠òÂô®‰ªçÁÑ∂ÂèØ‰ª•‰ΩøÁî®„ÄÇ</p>
<figure data-type="image" tabindex="1"><img src="https://pic.qxxiao.cn/202407272101164.png" alt="X86-64 registers" loading="lazy"></figure>
<ul>
<li>ÊâÄÊúâÁöÑ 64 ‰ΩçÂØÑÂ≠òÂô®‰ΩøÁî® <code>R</code> ÂâçÁºÄËÆøÈóÆÔºåÂ¶Ç <code>RAX</code>„ÄÅ<code>RBX</code>„ÄÅ<code>RCX</code>„ÄÅ<code>RDX</code> Â¶Ç‰∏äÂõæ„ÄÇ</li>
<li>Â¶ÇÂõæÔºå<strong>ÂØÑÂ≠òÂô® %rbp, %rbx, Âíå %r12-%r15 ÊòØË¢´Ë∞ÉÁî®ËÄÖ callee ÈúÄË¶Å‰øùÂ≠òÁöÑ</strong>ÔºàÊç¢Âè•ËØùËØ¥ÔºåÂÆÉ‰ª¨Â±û‰∫éË∞ÉÁî®ËÄÖ callerÔºåË∞ÉÁî®ËÄÖÂÅáÂÆöÂÆÉ‰ª¨ÁöÑÂÄº‰∏ç‰ºöË¢´‰øÆÊîπÔºâ„ÄÇÂΩìÁÑ∂ÔºåÊòØÊåâÁÖßÂÆûÈôÖ‰ΩøÁî®ÊÉÖÂÜµËøõË°å‰øùÂ≠òÔºåÂ¶ÇÊûúË¢´Ë∞ÉÁî®ËÄÖ‰ΩøÁî®‰∫ÜËøô‰∫õÂØÑÂ≠òÂô®ÔºåÈÇ£‰πàÈúÄË¶ÅÂú®ÂáΩÊï∞Â∫èÂπï‰øùÂ≠òËøô‰∫õÂØÑÂ≠òÂô®ÁöÑÂÄºÔºåÁÑ∂ÂêéÂú®ÂáΩÊï∞ÁªìÊùüÊó∂ÊÅ¢Â§çËøô‰∫õÂØÑÂ≠òÂô®ÁöÑÂÄº„ÄÇ<br>
Ââ©‰ΩôÁöÑÂØÑÂ≠òÂô®ÔºåË∞ÉÁî®ËÄÖË¥üË¥£‰øùÂ≠ò„ÄÇ</li>
</ul>
<p><strong>SIMD: MMX, SSE, AVX, AVX-512</strong></p>
<p>Ê≠§Â§ñÔºåËøòÊèê‰æõ‰∫Ü 16 ‰∏™ SSE ÂØÑÂ≠òÂô®Ôºà<code>xmm0~xmm15</code>ÔºâÔºåÊØè‰∏™ÂØÑÂ≠òÂô®ÂÆΩÂ∫¶ 128 ‰ΩçÔºå‰ª•Âèä 8 ‰∏™ x87 Êåá‰ª§ÊµÆÁÇπÂØÑÂ≠òÂô®Ôºà<code>st(0)~st(7)</code>ÔºâÔºåÊØè‰∏™ÂØÑÂ≠òÂô®ÂÆΩÂ∫¶ 80 ‰ΩçÔºà‰∏ªË¶ÅÁî®‰∫éÊó©ÊúüÁöÑÊµÆÁÇπËÆ°ÁÆó, ‰ª•Âèä MMX Êåá‰ª§‰ºöÂÖ±‰∫´ËØ•ÂØÑÂ≠òÂô®Ôºâ„ÄÇ</p>
<p>Intel AVX(È´òÁ∫ßÂêëÈáèÊâ©Â±ï)Êèê‰æõ‰∫Ü 16 ‰∏™ 256 ‰ΩçÁöÑ YMM ÂØÑÂ≠òÂô®Ôºà<code>ymm0~ymm15</code>ÔºâÔºåÂÖ∂‰Ωé 128 ‰ΩçÂç≥ÂØπÂ∫îÁöÑ 128 ‰Ωç SSE ÂØÑÂ≠òÂô®ÔºàÂà´ÂêçÔºâÔºõAVX-512 Êâ©Â±ïÊèê‰æõ‰∫Ü 32 ‰∏™ 512 ‰ΩçÁöÑ ZMM ÂØÑÂ≠òÂô®Ôºà<code>zmm0~zmm31</code>ÔºâÔºåÂÖ∂‰Ωé 256 ‰ΩçÂØπÂ∫î‰∫é 256 ‰Ωç YMM ÂØÑÂ≠òÂô®Ôºå‰Ωé 128 ‰ΩçÂØπ‰∫é 128 ‰Ωç XMM ÂØÑÂ≠òÂô®„ÄÇÔºàÂõ†Ê≠§ <code>xmm16 - %xmm31</code> / <code>ymm16 - ymm31</code> Âè™Âú® AVX-512 Êâ©Â±ï‰∏≠ÊúâÊïàÔºâ</p>
<p>Êàë‰ª¨Â∞Ü‰ΩøÁî®Ëøô‰∫õÂØÑÂ≠òÂô®Âíå SIMD Êåá‰ª§ËøõË°åÊµÆÁÇπËøêÁÆóÔºö</p>
<img src="https://pic.qxxiao.cn/202407272322889.png" style="max-width:600px;" alt="SIMD">
<h2 id="2Ê±áÁºñËØ≠Ê≥ï">2.Ê±áÁºñËØ≠Ê≥ï</h2>
<blockquote>
<p><a href="https://sourceware.org/binutils/docs/as/index.html">https://sourceware.org/binutils/docs/as/index.html</a><br>
<a href="https://tupelo-shen.github.io/2020/03/08/linux%E5%86%85%E6%A0%B81-GNU%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8_X86-64&amp;ARM/">GNU Ê±áÁºñÂø´ÈÄüÂÖ•Èó®</a></p>
</blockquote>
<p>ËøôÈáå‰∏ªË¶Å‰ΩøÁî® AT&amp;T ËØ≠Ê≥ïÔºåÂÆÉÊòØ GNU Ê±áÁºñÂô®(GAS) ÁöÑÈªòËÆ§ËØ≠Ê≥ï„ÄÇAT&amp;T ËØ≠Ê≥ïÁöÑÁâπÁÇπÊòØÊ∫êÊìç‰ΩúÊï∞Âú®ÂâçÔºåÁõÆÁöÑÊìç‰ΩúÊï∞Âú®ÂêéÔºåÊìç‰ΩúÊï∞‰πãÈó¥Áî®ÈÄóÂè∑ÂàÜÈöî„ÄÇÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö</p>
<pre><code class="language-asm">pushq %rbp
movq %rsp, %rbp
movl %edi, -20(%rbp)
movl %esi, -24(%rbp)
movl %edx, -28(%rbp)
movl -20(%rbp), %eax
movl %eax, -4(%rbp)
......
popq %rbp
ret
</code></pre>
<p>‰∏é Intel Ê±áÁºñËØ≠Ê≥ïÁöÑ‰∏ªË¶ÅÂå∫Âà´ÊúâÔºö<a href="https://sourceware.org/binutils/docs/as/i386_002dVariations.html">ÂÖ®Èù¢ÁöÑÂ∑ÆÂºÇ</a></p>
<!-- Ë°®Ê†ºÔºå6Ë°å5Âàó-->
<table>
<thead>
<tr>
<th>Â∑ÆÂºÇ</th>
<th>AT&amp;T ËØ≠Ê≥ï</th>
<th>ËØ¥Êòé</th>
<th>Intel ËØ≠Ê≥ï</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>Êìç‰ΩúÊï∞È°∫Â∫è</td>
<td><code>movq %rsp, %rbp</code></td>
<td>Ê∫êÊìç‰ΩúÊï∞Âú®ÂâçÔºå<strong>ÁõÆÁöÑÊìç‰ΩúÊï∞Âú®Âêé</strong></td>
<td><code>mov rbp, rsp</code></td>
<td>ÁõÆÁöÑÊìç‰ΩúÊï∞Âú®ÂâçÔºåÊ∫êÊìç‰ΩúÊï∞Âú®Âêé</td>
</tr>
<tr>
<td>Êåá‰ª§ÂêéÁºÄ</td>
<td><code>movq %rsp, %rbp</code></td>
<td>Êåá‰ª§ÂêéÁºÄË°®Á§∫Êìç‰ΩúÊï∞Â§ßÂ∞èÔºåÂ¶Ç <code>q</code> Ë°®Á§∫ÂõõÂ≠óÊìç‰Ωú</td>
<td><code>mov rbp, rsp</code></td>
<td>‰∏çÁî®ÂêéÁºÄÔºåÈÄöËøáÂØÑÂ≠òÂô®Êìç‰ΩúÊï∞Êé®Êñ≠Â§ßÂ∞èÔºõÂÜÖÂ≠òÂØªÂùÄÂ§ßÂ∞èÊ≠ß‰πâÊó∂Áî® <code>BYTE PTR</code> Á≠âÊòæÁ§∫Ê†áÊ≥®</td>
</tr>
<tr>
<td>ÂØÑÂ≠òÂô®</td>
<td><code>%rsp</code></td>
<td>ÂØÑÂ≠òÂô®ÂêçÁß∞ÂâçÂä† <code>%</code></td>
<td><code>rsp</code></td>
<td>ÂØÑÂ≠òÂô®ÂêçÁß∞‰∏çÂä† <code>%</code></td>
</tr>
<tr>
<td>Êìç‰ΩúÊï∞‰∏≠ÁöÑÁ´ãÂç≥Êï∞</td>
<td><code>movq $0x2, %rax</code></td>
<td>Êìç‰ΩúÊï∞‰∏≠ÁöÑÁ´ãÂç≥Êï∞ÂâçÂä† <code>$</code></td>
<td><code>mov rax, 0x2</code></td>
<td>‰∏çÂä† <code>$</code></td>
</tr>
<tr>
<td>ÂÜÖÂ≠òÂºïÁî®</td>
<td><code>movq 8(%rsp), %rax</code></td>
<td>Á´ãÂç≥Êï∞Âú® <code>()</code> Â§ñÈù¢</td>
<td><code>mov rax, [rsp+8]</code></td>
<td>Á´ãÂç≥Êï∞Âú® <code>[]</code> ÈáåÈù¢</td>
</tr>
<tr>
<td>Ê≥®Èáä</td>
<td><code># comment</code></td>
<td>Ê≥®ÈáäÁ¨¶Âè∑‰∏∫ <code>#</code></td>
<td><code>; comment</code></td>
<td>Ê≥®ÈáäÁ¨¶Âè∑‰∏∫ <code>;</code></td>
</tr>
</tbody>
</table>
<h3 id="Êåá‰ª§ÂêéÁºÄ">Êåá‰ª§ÂêéÁºÄ</h3>
<p>Â§öÊï∞Êåá‰ª§‰ΩøÁî®ÂêéÁºÄÊù•Ë°®Á§∫Êìç‰ΩúÊï∞ÁöÑÂ§ßÂ∞èÔºåÂ¶ÇÔºö</p>
<ul>
<li><code>b</code>Ôºöbyte Ë°®Á§∫Â≠óËäÇÊìç‰ΩúÔºåÂ¶Ç <code>movb</code>„ÄÅ<code>addb</code>„ÄÇ</li>
<li><code>w</code>Ôºöword(2 bytes) Ë°®Á§∫Â≠óÊìç‰ΩúÔºåÂ¶Ç <code>movw</code>„ÄÅ<code>addw</code>„ÄÇ</li>
<li><code>l</code>Ôºölong/doubleword(4 bytes) Ë°®Á§∫ÂèåÂ≠óÊìç‰ΩúÔºåÂ¶Ç <code>movl</code>„ÄÅ<code>addl</code>„ÄÇ</li>
<li><code>q</code>Ôºöquadword(8 bytes) Ë°®Á§∫ÂõõÂ≠óÊìç‰ΩúÔºåÂ¶Ç <code>movq</code>„ÄÅ<code>addq</code>„ÄÇ</li>
</ul>
<p>Â¶ÇÊûúÂèØ‰ª•‰ªéÊìç‰ΩúÊï∞‰∏≠Êé®Êñ≠Âá∫Êìç‰ΩúÊï∞ÁöÑÂ§ßÂ∞èÔºåÂèØÁúÅÁï•ÂêéÁºÄ„ÄÇÂ¶Ç <code>movq %rsp, %rbp</code> ÂèØ‰ª•ÂÜôÊàê <code>mov %rsp, %rbp</code>ÔºåÊìç‰ΩúÊï∞ %rsp ÊöóÁ§∫ <code>q</code>Ôºå%eax ÊöóÁ§∫ <code>l</code>Ôºå‰ª•Ê≠§Á±ªÊé®„ÄÇ</p>
<p><strong>Â∞ëÊï∞Êåá‰ª§‰æãÂ¶Ç <code>movs</code>ÔºàÁ¨¶Âè∑Êâ©Â±ïÔºâ„ÄÅ<code>movz</code>ÔºàÈõ∂Êâ©Â±ïÔºâÊúâ‰∏§‰∏™ÂêéÁºÄÔºåÁ¨¨‰∏Ä‰∏™Ë°®Á§∫Ê∫êÊìç‰ΩúÊï∞‰ΩçÂÆΩÔºåÁ¨¨‰∫å‰∏™Ë°®Á§∫ÁõÆÁöÑÊìç‰ΩúÊï∞‰ΩçÂÆΩ</strong>Ôºå‰æãÂ¶Ç <code>movzbl</code> ÁßªÂä®‰∏Ä‰∏™Â≠óËäÇÈïøÂ∫¶Ê∫êÊìç‰ΩúÊï∞Âà∞‰∏Ä‰∏™ÂèåÂ≠óÈïøÂ∫¶ÁõÆÁöÑÊìç‰ΩúÊï∞ÔºåÈ´ò‰ΩçÁî® 0 Â°´ÂÖÖ„ÄÇ</p>
<p><span style="background-color:#d44c47;color:white;">Note</span>: ÂΩìÁõÆÊ†áÂØÑÂ≠òÂô®ÊòØÂ≠êÂØÑÂ≠òÂô®Êó∂ÔºåÂè™ÊúâÂ≠êÂØÑÂ≠òÂô®ËåÉÂõ¥ÁöÑÂ≠óËäÇ‰ºöË¢´ÂÜôÂÖ•Êõ¥Êñ∞Ôºå‰ΩÜÊúâ‰∏Ä‰∏™‰æãÂ§ñÔºö<strong>32 ‰ΩçÁöÑÊåá‰ª§ÂÜôÂÖ•Êó∂</strong>Ôºå‰ºöÂ∞ÜÁõÆÊ†áÂØÑÂ≠òÂô®ÁöÑÈ´ò 32 ‰ΩçÊ∏ÖÈõ∂Ôºå‰æãÂ¶Ç <code>movl $0x1234, %eax</code> Â∞Ü rax ÁöÑÈ´ò 32 ‰ΩçÊ∏ÖÈõ∂„ÄÇ</p>
<h3 id="ÂÜÖÂ≠òÂØªÂùÄËÆøÈóÆ">ÂÜÖÂ≠òÂØªÂùÄÔºàËÆøÈóÆÔºâ</h3>
<p>Êåá‰ª§‰∏≠ËÆøÈóÆÂÜÖÂ≠òÁöÑ‰∏ÄËà¨ÂΩ¢ÂºèÊòØÔºö <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>p</mi><mi>l</mi><mi>a</mi><mi>c</mi><mi>e</mi><mi>m</mi><mi>e</mi><mi>n</mi><mi>t</mi><mo>(</mo><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi><mo separator="true">,</mo><mi>i</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>x</mi><mo separator="true">,</mo><mi>s</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>e</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">displacement(base, index, scale)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">c</span><span class="mord mathdefault">e</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mclose">)</span></span></span></span></p>
<ul>
<li><code>displacement</code>ÔºöÁ´ãÂç≥Êï∞ÔºåË°®Á§∫ÂÅèÁßªÈáè„ÄÇ</li>
<li><code>base</code>ÔºöÂü∫ÂùÄÂØÑÂ≠òÂô®ÔºåË°®Á§∫Âü∫ÂùÄ„ÄÇ</li>
<li><code>index</code>ÔºöÁ¥¢ÂºïÂØÑÂ≠òÂô®ÔºåË°®Á§∫Á¥¢Âºï„ÄÇ</li>
<li><code>scale</code>ÔºöÊØî‰æãÂõ†Â≠êÔºåË°®Á§∫Á¥¢ÂºïÂØÑÂ≠òÂô®ÁöÑÂÄçÊï∞„ÄÇ</li>
</ul>
<p>‰æãÂ¶ÇÔºå<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>‚àí</mo><mn>16</mn><mo>(</mo><mi mathvariant="normal">%</mi><mi>r</mi><mi>b</mi><mi>p</mi><mo separator="true">,</mo><mi mathvariant="normal">%</mi><mi>r</mi><mi>d</mi><mi>x</mi><mo separator="true">,</mo><mn>8</mn><mo>)</mo><mo>=</mo><mi mathvariant="normal">%</mi><mi>r</mi><mi>b</mi><mi>p</mi><mo>+</mo><mo>(</mo><mi mathvariant="normal">%</mi><mi>r</mi><mi>d</mi><mi>x</mi><mo>‚àó</mo><mn>8</mn><mo>)</mo><mo>‚àí</mo><mn>16</mn></mrow><annotation encoding="application/x-tex">-16(\%rbp, \%rdx, 8) = \%rbp + (\%rdx * 8) -16</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">‚àí</span><span class="mord">1</span><span class="mord">6</span><span class="mopen">(</span><span class="mord">%</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">b</span><span class="mord mathdefault">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">%</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">d</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">8</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.94444em;vertical-align:-0.19444em;"></span><span class="mord">%</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">b</span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">%</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">d</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">‚àó</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">8</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">‚àí</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">6</span></span></span></span>„ÄÇ</p>
<p>‰ª•ÂÜôÁ´ãÂç≥Êï∞ 1 ‰∏∫‰æãËØ¥ÊòéÂ§öÁßçÂØªÂùÄÊ®°ÂºèÔºö</p>
<pre><code class="language-asm">movl $1, 0x604892 # Áõ¥Êé•ÂØªÂùÄÔºåÂú∞ÂùÄ 0x604892
movl $1, (%rax)   # Èó¥Êé•ÂØªÂùÄÔºåÂú∞ÂùÄ‰∏∫ rax ÂØÑÂ≠òÂô®ÁöÑÂÄº

movl $1, -24(%rbp)        # Âü∫ÂùÄ+ÂÅèÁßªÔºåÂú∞ÂùÄ‰∏∫ rbp ÂØÑÂ≠òÂô®ÁöÑÂÄºÂáèÂéª 24
movl $1, 8(%rsp, %rdi, 4) # Âü∫ÂùÄ+Á¥¢Âºï*ÊØî‰æã+ÂÅèÁßªÔºåÂú∞ÂùÄ‰∏∫ rsp + rdi * 4 + 8
movl $1, 0x8(, $rdx, 4)   # Á¥¢Âºï*ÊØî‰æã+ÂÅèÁßªÔºåÂú∞ÂùÄ‰∏∫ rdx * 4 + 8
movl $1, 0x4(%rax, %rcx)  # ÊØî‰æãÂÅáÂÆö‰∏∫1ÔºåÂú∞ÂùÄ‰∏∫ rax + rcx + 4
</code></pre>
<h3 id="Â∏∏Áî®Êåá‰ª§">Â∏∏Áî®Êåá‰ª§</h3>
<p>Â∏∏Áî®ÁöÑÊåá‰ª§ÂíåÂØªÂùÄÊñπÂºèÂèØ‰ª•ÂèÇËÄÉÔºö<a href="https://web.stanford.edu/class/cs107/resources/x86-64-reference.pdf">Common instructions and Addressing modes - cheatsheet</a></p>
<p>‰∏ªË¶ÅÊúâÊï∞ÊçÆÁßªÂä®„ÄÅÁÆóÊúØËøêÁÆó/ÈÄªËæëËøêÁÆó„ÄÅÊéßÂà∂ÊµÅÁ≠â„ÄÇ</p>
<p><strong>Êï∞ÊçÆÁßªÂä®</strong></p>
<ul>
<li><code>mov</code>ÔºöÊï∞ÊçÆ‰º†ÈÄÅÊåá‰ª§ÔºåÂ¶Ç <code>movl %eax, %ebx</code>„ÄÇ</li>
<li><code>movzx</code>: 0 Êâ©Â±ïÔºåÂ¶Ç <code>movzbl (%rdi), %eax</code>, ÂÖ∂‰∏≠ÂêéÁºÄ <code>b</code> Ë°®Á§∫Â≠óËäÇÊìç‰ΩúÔºå<code>l</code> Ë°®Á§∫ÂèåÂ≠óÔºàÂèåÊåá‰ª§ÂêéÁºÄÔºâ„ÄÇ</li>
<li><code>movsx</code>: Á¨¶Âè∑Êâ©Â±ïÔºåÂ¶Ç <code>movsbl (%rdi), %eax</code>, ÂÖ∂‰∏≠ÂêéÁºÄ <code>b</code> Ë°®Á§∫Â≠óËäÇÊìç‰ΩúÔºå<code>l</code> Ë°®Á§∫ÂèåÂ≠ó„ÄÇ</li>
<li><code>push</code>ÔºöÂ∞ÜÊï∞ÊçÆÂéãÂÖ•Ê†àÔºåÂ¶Ç <code>pushq %rbp</code>„ÄÇÂÖ∑‰ΩìÊìç‰ΩúÔºöÊ†àÈ°∂ÊåáÈíàÂáèÂéª 8ÔºåÁÑ∂ÂêéÂ∞ÜÊï∞ÊçÆÂÜôÂÖ•Ê†àÈ°∂„ÄÇ</li>
<li><code>pop</code>ÔºöÂ∞ÜÊï∞ÊçÆÂºπÂá∫Ê†àÔºåÂ¶Ç <code>popq %rbp</code>„ÄÇÂÖ∑‰ΩìÊìç‰ΩúÔºöËØªÂèñÊ†àÈ°∂Êï∞ÊçÆÔºåÁÑ∂ÂêéÊ†àÈ°∂ÊåáÈíàÂä† 8„ÄÇ</li>
<li><code>lea</code>: ÂèñÊìç‰ΩúÊï∞ÁöÑÊúâÊïàÂú∞ÂùÄÔºå‰∏çËøõË°åÂú∞ÂùÄËß£ÂºïÁî®ÔºåÂ¶Ç <code>lea 8(%rsp), %rax</code>„ÄÇ</li>
</ul>
<p><strong>ÁÆóÊúØËøêÁÆó/ÈÄªËæëËøêÁÆó</strong></p>
<ul>
<li><code>add</code>ÔºöÂä†Ê≥ïÔºåÂ¶Ç <code>addl %eax, %ebx</code>„ÄÇ</li>
<li><code>sub</code>ÔºöÂáèÊ≥ïÔºåÂ¶Ç <code>subl %eax, %ebx</code>„ÄÇ</li>
<li><code>inc/dec</code>: Ëá™Â¢û/Ëá™ÂáèÔºåÂ¶Ç <code>incl %eax</code>„ÄÇ</li>
<li><code>imul</code>ÔºöÊï¥ÂûãÊúâÁ¨¶Âè∑‰πòÊ≥ïÔºåÂ¶Ç <code>imull %eax, %ebx</code>„ÄÇ</li>
<li><code>idiv</code>ÔºöÊï¥ÂûãÊúâÁ¨¶Âè∑Èô§Ê≥ïÔºåÂ¶Ç <code>idivl %eax</code>„ÄÇ‰ΩøÁî® <code>idiv</code> ‰πãÂâçÔºåÈúÄË¶ÅÂ∞ÜË¢´Èô§Êï∞ÊîæÂú® <code>EDX:EAX</code> ‰∏≠„ÄÇÁªìÊûúÁöÑÂïÜ‰øùÂ≠òÂú® <code>EAX</code> ‰∏≠Ôºå‰ΩôÊï∞‰øùÂ≠òÂú® <code>EDX</code> ‰∏≠„ÄÇ</li>
<li><code>mulss/divss</code>: Ê†áÈáèÂçïÁ≤æÂ∫¶ÊµÆÁÇπÊï∞‰πòÊ≥ï/Èô§Ê≥ï scalar single-precisionÔºåÂ¶Ç <code>mulss %xmm1, %xmm2</code>„ÄÇ</li>
<li><code>mulsd/divsd</code>: Ê†áÈáèÂ§öÁ≤æÂ∫¶ÊµÆÁÇπÊï∞‰πòÊ≥ï/Èô§Ê≥ï scalar double-precisionÔºåÂ¶Ç <code>mulsd %xmm1, %xmm2</code>„ÄÇ</li>
<li><code>and/or/xor</code>ÔºöÊåâ‰Ωç‰∏é/Êàñ/ÂºÇÊàñÔºåÂ¶Ç <code>andl %eax, %ebx</code>„ÄÇ</li>
<li><code>not</code>ÔºöÊåâ‰ΩçÂèñÂèçÔºåÂ¶Ç <code>notl %eax</code>„ÄÇ</li>
<li><code>shl/shr</code>ÔºöÈÄªËæëÂ∑¶Áßª/Âè≥ÁßªÔºåÂ¶Ç <code>shll $2, %eax</code>„ÄÇ</li>
<li><code>sal/sar</code>ÔºöÁÆóÊúØÂ∑¶Áßª/Âè≥ÁßªÔºåÂ¶Ç <code>sarl $2, %eax</code>„ÄÇ</li>
</ul>
<p><strong>ÊéßÂà∂ÊµÅÊåá‰ª§</strong></p>
<p>Êåá‰ª§ <code>cmp</code> ÁªèÂ∏∏Áî®‰∫éÊØîËæÉ‰∏§‰∏™Êìç‰ΩúÊï∞ÔºåËÆæÁΩÆÊ†áÂøóÂØÑÂ≠òÂô®ÔºåÁÑ∂ÂêéÊ†πÊçÆÊ†áÂøóÂØÑÂ≠òÂô®ÁöÑÂÄºÊù•ÊâßË°åË∑≥ËΩ¨Êåá‰ª§„ÄÇÊïàÊûúÁ≠âÊïà‰∏∫ÂáèÊ≥ïÊåá‰ª§Ôºå‰ΩÜÊòØÂøΩÁï•ËÆ°ÁÆóÁªìÊûú„ÄÇ<br>
Â∏∏Áî®ÁöÑÊ†áÂøóÂØÑÂ≠òÂô®ÊúâÔºö<code>ZF</code>ÔºàÈõ∂Ê†áÂøó‰ΩçÔºâ„ÄÅ<code>SF</code>ÔºàÁ¨¶Âè∑Ê†áÂøó‰ΩçÔºâ„ÄÅ<code>OF</code>ÔºàÊ∫¢Âá∫Ê†áÂøó‰ΩçÔºâ„ÄÇ</p>
<img src="https://pic.qxxiao.cn/202407272259215.png" style="max-width:600px;" alt="FLAGS REGISTERS">
<p>Êù°‰ª∂Ë∑≥ËΩ¨Êåá‰ª§Âíå‰ΩøÁî®ÁöÑÊ†áÂøó‰ΩçÂØπÂ∫îÂ¶Ç‰∏ãÔºö<br>
<img src="https://pic.qxxiao.cn/202407272305686.png" alt="CONDITIONAL JUMP" loading="lazy"></p>
<ul>
<li>TEST Êåá‰ª§Ôºö‰∏é <code>AND</code> Êåá‰ª§Á±ª‰ººÔºå‰ΩÜÊòØ‰∏ç‰øùÂ≠òÁªìÊûúÔºåÂè™ËÆæÁΩÆÊ†áÂøóÂØÑÂ≠òÂô®ÔºåÂ¶Ç <code>testl %eax, %eax</code>„ÄÇ</li>
<li>CMP Êåá‰ª§Ôºö‰∏é <code>SUB</code> Êåá‰ª§Á±ª‰ººÔºå‰ΩÜÊòØ‰∏ç‰øùÂ≠òÁªìÊûúÔºåÂè™ËÆæÁΩÆÊ†áÂøóÂØÑÂ≠òÂô®ÔºåÂ¶Ç <code>cmpl %eax, %ebx</code>„ÄÇ</li>
<li><code>jmp</code>ÔºöÊó†Êù°‰ª∂Ë∑≥ËΩ¨ÔºåÂ¶Ç <code>jmp label</code>„ÄÇ</li>
<li>call Êåá‰ª§ÔºöË∞ÉÁî®ÂáΩÊï∞ÔºåÂ¶Ç <code>call func</code>, ÂÖ∂Êìç‰ΩúÊòØÔºöÂ∞Ü‰∏ã‰∏ÄÊù°Êåá‰ª§ÁöÑÂú∞ÂùÄÂéãÂÖ•Ê†àÔºåÁÑ∂ÂêéË∑≥ËΩ¨Âà∞ÂáΩÊï∞ÁöÑÂÖ•Âè£Âú∞ÂùÄ„ÄÇ</li>
<li>ret Êåá‰ª§ÔºöËøîÂõûÔºåÂ¶Ç <code>ret</code>„ÄÇÂÖ∂Êìç‰ΩúÊòØÔºöÂ∞ÜÂºπÂá∫ÁöÑËøîÂõûÂú∞ÂùÄÂä†ËΩΩÂà∞Êåá‰ª§ÊåáÈíàÂØÑÂ≠òÂô®ÔºàRIPÔºâ‰∏≠Ôºå‰ªéËÄåË∑≥ËΩ¨Âà∞ÂáΩÊï∞Ë∞ÉÁî®ÂêéÁöÑ‰∏ã‰∏ÄÊù°Êåá‰ª§ÔºåÁªßÁª≠ÊâßË°å„ÄÇ</li>
<li>leave Êåá‰ª§ÔºöÊÅ¢Â§çÊ†àÂ∏ßÔºåÂ¶Ç <code>leave</code>„ÄÇÂÖ∂Êìç‰ΩúÊòØÔºöÂ∞ÜÊ†àÂ∏ßÊåáÈíà <code>rbp</code> ÁöÑÂÄºËµãÁªôÊ†àÈ°∂ÊåáÈíà <code>rsp</code>(Ê∏ÖÁ©∫ÂΩìÂâçÊ†àÂ∏ß)ÔºåÁÑ∂ÂêéÂºπÂá∫Ê†àÂ∏ßÊåáÈíà <code>rbp</code>(ÊÅ¢Â§çÂéüÂßã rbp, ËøòÂéü‰∏ä‰∏Ä‰∏™Ê†àÂ∏ß)„ÄÇ</li>
</ul>
<h2 id="3ÂáΩÊï∞Ë∞ÉÁî®">3.ÂáΩÊï∞Ë∞ÉÁî®</h2>
<p>‰∏∫‰∫ÜÂÖÅËÆ∏ÂÖ±‰∫´‰ª£Á†ÅÂπ∂ÁÆÄÂåñÂ≠êÁ®ãÂ∫èÁöÑ‰ΩøÁî®ÔºåÁ®ãÂ∫èÂëòÈÄöÂ∏∏ÈááÁî®‰∏ÄÁßçÈÄöÁî®ÁöÑË∞ÉÁî®Á∫¶ÂÆö„ÄÇË∞ÉÁî®Á∫¶ÂÆöÊòØ‰∏ÄÁßçÂÖ≥‰∫éÂ¶Ç‰ΩïË∞ÉÁî®ÂíåËøîÂõû‰æãÁ®ãÁöÑÂçèËÆÆ„ÄÇ‰æãÂ¶ÇÔºåÁªôÂÆö‰∏ÄÁªÑË∞ÉÁî®Á∫¶ÂÆöËßÑÂàôÔºåÁ®ãÂ∫èÂëò‰∏çÈúÄË¶ÅÊ£ÄÊü•Â≠êÁ®ãÂ∫èÁöÑÂÆö‰πâÊù•Á°ÆÂÆöÂ¶Ç‰ΩïÂ∞ÜÂèÇÊï∞‰º†ÈÄíÁªôËØ•Â≠êÁ®ãÂ∫è„ÄÇÊ≠§Â§ñÔºåÁªôÂÆö‰∏ÄÁªÑË∞ÉÁî®Á∫¶ÂÆöËßÑÂàôÔºåÈ´òÁ∫ßËØ≠Ë®ÄÁºñËØëÂô®ÂèØ‰ª•ÊåâÁÖßËøô‰∫õËßÑÂàôËøõË°åÁºñËØëÔºå‰ªéËÄåÂÖÅËÆ∏ÊâãÂä®ÁºñÂÜôÁöÑÊ±áÁºñËØ≠Ë®Ä‰æãÁ®ãÂíåÈ´òÁ∫ßËØ≠Ë®Ä‰æãÁ®ãÁõ∏‰∫íË∞ÉÁî®„ÄÇ</p>
<p>MacOSX Âíå Linux ÁöÑ x86-64 Ë∞ÉÁî®ÂçèËÆÆÈÉΩÈÅµÂæ™ SystemV ABI (<a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">ËßÅÂèÇËÄÉËµÑÊñô</a>)„ÄÇ</p>
<h3 id="ÂáΩÊï∞ÂèÇÊï∞">ÂáΩÊï∞ÂèÇÊï∞</h3>
<p>ABI Â∞ÜÂèÇÊï∞/ËøîÂõûÂÄºÂÆö‰πâ‰∫ÜÂ§öÁßçÁ±ªÂà´Ôºå‰æùÊçÆÂØÑÂ≠òÂô®ÁöÑÁßçÁ±ªÂÆö‰πâ‰∏∫ÔºöINTEGER(Êï¥ÂûãÔºåËÉΩÂ§üÈÄÇÂ∫î‰∫éÈÄöÁî®ÂØÑÂ≠òÂô® 8B)„ÄÅSSE(ËÉΩÂ§üÈÄÇÂ∫î‰∫éÂçï‰∏™ÂêëÈáèÂØÑÂ≠òÂô® 8B)„ÄÅSSEUPÔºàÁªßÁª≠Âà©Áî®‰∏äÊ¨°‰ΩøÁî®ÁöÑÂêëÈáèÂØÑÂ≠òÂô®‰∏≠ÁöÑÈ´òÂ≠óËäÇÈÉ®ÂàÜ&gt;8BÔºâ„ÄÅMEMORYÔºàÈÄöËøáÊ†à‰º†ÈÄíÁöÑÁ±ªÂûãÔºâÂíåÂÖ∂‰ªñÁ±ªÂûã„ÄÇ</p>
<p>ÂáΩÊï∞Ë∞ÉÁî®ÁöÑÂâç 6 ‰∏™ÔºàÊï¥ÂûãÔºåÂåÖÊã¨ÊåáÈíàÔºâÂèÇÊï∞ÈÄöËøáÂØÑÂ≠òÂô®‰º†ÈÄíÔºå‰º†ÈÄíÈ°∫Â∫è‰∏∫ <code>%rdi,%rsi,%rdx,%rcx,%r8,%r9</code>Ôºà<a href="#x86-64-%E5%AF%84%E5%AD%98%E5%99%A8">Â¶ÇÂõæÊâÄÁ§∫</a>Ôºâ„ÄÇË∂ÖÂá∫ÈÉ®ÂàÜÁöÑÂèÇÊï∞ÈÄöËøáÂáΩÊï∞Ê†àÂ∏ß‰º†ÈÄí(ÂèÇÊï∞ÈïøÂ∫¶Â§ß‰∫é 64 ‰Ωç‰πüÈÄöËøáÊ†à‰º†ÈÄí)„ÄÇ</p>
<p>Â¶ÇÊûúÂáΩÊï∞ÊúâËøîÂõûÂÄºÔºàÊï¥ÂûãÔºâÔºå<code>%rax</code> Áî®‰ΩúÁ¨¨‰∏Ä‰∏™ÂáΩÊï∞ËøîÂõûÂÄºÔºå<code>%rdx</code> Áî®‰ΩúÁ¨¨‰∫å‰∏™ÂáΩÊï∞ËøîÂõûÂÄº„ÄÇÊµÆÁÇπÊï∞‰ΩøÁî® <code>xmm0</code> ‰Ωú‰∏∫ËøîÂõûÂÄº„ÄÇ</p>
<p>ÂÖ∂‰ªñ‰∏Ä‰∫õËßÑÂàôÔºö</p>
<ul>
<li>Â¶ÇÊûúÂèÇÊï∞Â§ß‰∫é 64 Â≠óËäÇÂØπË±°ÔºåÂØπÂ∫î‰∫é MEMORY Á±ªÂûãÔºåÈÄöËøáÊ†à‰º†ÈÄí„ÄÇ</li>
<li>Ê≥®ÊÑèÂ¶ÇÊûú<strong>ËøîÂõûÂÄº</strong>ÊòØ MEMORY Á±ªÂûãÔºåË∞ÉÁî®ËÄÖ‰ºöËá™Â∑±‰∏∫ËøîÂõûÂÄºÂàÜÈÖçÁ©∫Èó¥ÔºåÂπ∂‰ΩøÁî® <code>%rdi</code> ÈöêÂºè‰º†ÈÄíËØ•ÂÜÖÂ≠òÊåáÈíà‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞„ÄÇË¢´Ë∞ÉÁî®ÂáΩÊï∞ÂØπËØ•ÂÜÖÂ≠òËµãÂÄºÂêéÔºåÁõ¥Êé•ËøîÂõûËØ•ÊåáÈíà„ÄÇ</li>
</ul>
<h3 id="ÂáΩÊï∞Ê†àÂ∏ß">ÂáΩÊï∞Ê†àÂ∏ß</h3>
<p>ÊØè‰∏™ÂáΩÊï∞Âú®ËøêË°åÊó∂Â†ÜÊ†à‰∏äÈÉΩÊúâ‰∏Ä‰∏™Â∏ß„ÄÇÂáΩÊï∞Ê†àÂ∏ß‰ªéÈ´òÂú∞ÂùÄÂæÄ‰ΩéÂú∞ÂùÄÊñπÂêëÂ¢ûÈïøÔºåSystem V ABI ‰ΩøÁî®‰∏§‰∏™ÂØÑÂ≠òÂô®ËÆøÈóÆÂáΩÊï∞Ê†àÂ∏ßÔºöÂ∏ßÊåáÈíà <code>%rbp</code> ÂíåÊ†àÊåáÈíà <code>%rsp</code>„ÄÇ Â∏ßÊåáÈíà <code>%rbp</code> ÊåáÂêëÂΩìÂâçÂáΩÊï∞Ê†àÂ∏ßÂü∫ÂùÄ(Ê†àÂ∫ï)ÔºåÊ†àÊåáÈíà <code>%rsp</code> ÊåáÂêëÂΩìÂâçÂáΩÊï∞Ê†àÂ∏ßÊ†àÈ°∂„ÄÇ</p>
<p>ÂáΩÊï∞Ë∞ÉÁî®ÁöÑÊ†àÂ∏ßÁªìÊûÑÂõæÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö<br>
<img src="https://pic.qxxiao.cn/202407280100817.png" style="max-width:600px;" alt="Function Stack Frame"></p>
<ul>
<li>Â∏ßÊåáÈíà <code>%rbp</code> Áî®Êù•Â≠òÂèñÂáΩÊï∞Ê†àÂ∏ß‰∏äÁöÑÊï∞ÊçÆÔºå‰æãÂ¶Ç‰º†ÈÄíËøõÊù•ÁöÑÂáΩÊï∞ÂèÇÊï∞ÔºåÊàñËÄÖÂáΩÊï∞ÁöÑÊú¨Âú∞Â±ÄÈÉ®ÂèòÈáè„ÄÇ System V ABI Ë¶ÅÊ±ÇÊúÄÂêé‰∏Ä‰∏™ÂéãÂÖ•Ê†àÁöÑÂáΩÊï∞ÂèÇÊï∞Ôºàargument 0ÔºâÂú∞ÂùÄÈúÄË¶Å 16 Â≠óËäÇËæπÁïåÂØπÈΩêÔºåÂ¶ÇÊûúÊúâ <code>__m256</code> Á±ªÂûãÁöÑÂèÇÊï∞‰ΩøÁî®Ê†à‰º†ÈÄíÔºåÂàôÈúÄË¶Å 32 Â≠óËäÇËæπÁïåÂØπÈΩê„ÄÇ</li>
<li>ÂèØ‰ª•ÁúãÂá∫ÔºåÈÄöËøáÊ†à‰º†ÈÄíÁöÑÂÖ∂‰ªñÂèÇÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÁöÑ‰ΩçÁΩÆÂú® <code>%rbp+16</code>, ‰∏≠Èó¥ÈöîÁùÄ 8 Â≠óËäÇÁöÑËøîÂõûÂú∞ÂùÄ„ÄÇÂú® 32 ‰ΩçÁ≥ªÁªü‰∏≠ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÁöÑ‰ΩçÁΩÆÂú® <code>%ebp+8</code>„ÄÇ(Âè™ÊòØ 32 ‰ΩçÁ≥ªÁªüÂú®ÂèÇÊï∞‰º†ÈÄíÂíåÂØÑÂ≠òÂô®‰øùÂ≠ò‰∏äÊúâÊâÄ‰∏çÂêå)</li>
</ul>
<p>Ê†àÁ∫¢Âå∫Ôºàred zoneÔºâ‰ºòÂåñÔºöÁ∫¢Âå∫ÊòØÊ†à‰∏ä <code>rsp</code> ÊåáÂêë‰ΩçÁΩÆ‰πãÂêéÁöÑ 128 Â≠óËäÇÂå∫Âüü„ÄÇËØ•Âå∫ÂüüÂú®ÂáΩÊï∞Ë∞ÉÁî®Êó∂Ë¢´ËÆ§‰∏∫ÊòØ‰øùÁïôÁöÑÔºåÊúüÈó¥‰∏çË¢´‰ø°Âè∑Â§ÑÁêÜÁ®ãÂ∫èÂíå‰∏≠Êñ≠Â§ÑÁêÜÁ®ãÂ∫è‰øÆÊîπÔºå‰ªéËÄå‰øùÊä§‰∫ÜÂáΩÊï∞Ê†àÁöÑÂÆåÊï¥ÊÄß„ÄÇÊâÄ‰ª•ÂáΩÊï∞ÂèØ‰ª•ÂÆâÂÖ®Âú∞‰ΩøÁî®Ëøô‰∏™Âå∫ÂüüÊù•Â≠òÂÇ®‰∏¥Êó∂Êï∞ÊçÆ„ÄÇ</p>
<p>ÂèØÁî®‰∫é‰ºòÂåñÂáΩÊï∞Ë∞ÉÁî®ÔºöÂè∂ÂáΩÊï∞ÔºàÂç≥‰∏çË∞ÉÁî®ÂÖ∂‰ªñÂáΩÊï∞ÁöÑÂáΩÊï∞ÔºâÂèØ‰ª•Âà©Áî®Á∫¢Âå∫‰Ωú‰∏∫Êï¥‰∏™Ê†àÂ∏ßÁöÑ‰∏ÄÈÉ®ÂàÜÔºåËÄå‰∏çÂøÖÂú®ÂáΩÊï∞ÂÖ•Âè£/Â∫èË®ÄÂíåÈÄÄÂá∫/ÁªìÂ∞æÊó∂Ë∞ÉÊï¥Ê†àÊåáÈíàÔºàÁõ¥Êé•‰ΩøÁî® <code>rsp</code> ÂØªÂùÄÔºåÂπ∂‰∏î‰∏çÊòæÁ§∫Âú∞Ë∞ÉÁî® <code>subq $N, %rsp</code> ÂàÜÈÖçÁ©∫Èó¥ÔºåÁõ¥Êé•‰ΩøÁî®Ê†àÁ∫¢Âå∫‰Ωú‰∏∫Êï¥‰∏™Ê†àÂ∏ßÔºâ„ÄÇËøôÂèØ‰ª•ÂáèÂ∞ëÊ†àÊìç‰ΩúÁöÑÂºÄÈîÄÔºåÊèêÈ´òÂáΩÊï∞Ë∞ÉÁî®ÁöÑÊÄßËÉΩ„ÄÇ</p>
<h3 id="ÂáΩÊï∞Ë∞ÉÁî®ÂçèËÆÆ">ÂáΩÊï∞Ë∞ÉÁî®ÂçèËÆÆ</h3>
<p>ÂáΩÊï∞Ë∞ÉÁî®ÂçèËÆÆÂàÜ‰∏∫ caller Á´ØÂíå callee Á´ØÔºåÊØèÁ´ØÂêÑÊúâ‰∏§‰∏™ÈáçË¶ÅÊ≠•È™§Ôºö</p>
<p>1Ôºâ<span style="color:#2062f6;font-weight:bold;">caller Ë∞ÉÁî®ËÄÖ</span>Ôºö</p>
<ul>
<li>„Äê‰øùÂ≠ò caller-save ÂØÑÂ≠òÂô®Âà∞ÂáΩÊï∞Ê†à‰∏äÔºàÊåâÈúÄ‰øùÂ≠òÔºâ„ÄëÔºõ</li>
<li>Â∞ÜÂáΩÊï∞ÂèÇÊï∞Â≠òÂÇ®Âà∞ËßÑÂÆöÁöÑÂØÑÂ≠òÂô®‰∏≠ÔºåÂπ∂Â∞ÜË∂ÖÂá∫Á∫¶ÂÆöÁöÑÂèÇÊï∞ÊåâÈ°∫Â∫èÂéãÂÖ•Ê†à‰∏≠Ôºõ(32 ‰ΩçÁ≥ªÁªü‰∏≠ÔºåÈÄöÂ∏∏‰ªÖÁî®Ê†à‰º†ÈÄíÂèÇÊï∞ÔºåÂèÇÊï∞ÊåâÁÖß‰ªéÂè≥Âà∞Â∑¶ÁöÑÈ°∫Â∫è‰æùÊ¨°ÂéãÊ†à)</li>
<li>Ë∞ÉÁî® <code>call</code> Êåá‰ª§„ÄÇÔºàÂÖàÂéãÂÖ•ËøîÂõûÂú∞ÂùÄÔºåÂÜçË∑≥ËΩ¨ÊâßË°åÔºâ</li>
</ul>
<p>2Ôºâ<span style="color:green;font-weight:bold;">callee Ë¢´Ë∞ÉÁî®ËÄÖÔºåÂáΩÊï∞Â∫èË®Ä</span>Ôºö</p>
<ul>
<li><code>pushq %rbp</code> ÂéãÂÖ• <code>rbp</code> ÂØÑÂ≠òÂô®ÔºåÁî®Êù•‰øùÂ≠òÂâç‰∏Ä‰∏™Ê†àÂ∏ßÂü∫ÂùÄÔºõ</li>
<li><code>movq %rsp, %rbp</code> ÂàùÂßãÂåñ <code>rbp</code> ÂØÑÂ≠òÂô®ÔºåÁî®Êù•ÊåáÂêëÂΩìÂâçÊ†àÂ∏ßÂü∫ÂùÄÔºõÔºàÊñ∞ÁöÑ <code>rbp</code> Â∏∏Áî®‰∫éÂØªÂùÄÂèÇÊï∞/Â±ÄÈÉ®ÂèòÈáèÔºâ</li>
<li><strong>‰∏∫Â±ÄÈÉ®ÂèòÈáèÂàÜÈÖçÁ©∫Èó¥</strong>Ôºå<code>subq $N, %rsp</code>Ôºõ</li>
<li>„Äê‰øùÂ≠ò callee-save ÂØÑÂ≠òÂô®Âà∞ÂáΩÊï∞Ê†à‰∏äÔºàÊåâÈúÄ‰øùÂ≠òÔºâ„Äë</li>
</ul>
<p>3Ôºâ <span style="color:green;font-weight:bold;">callee Ë¢´Ë∞ÉÁî®ËÄÖÔºåÂáΩÊï∞Â∞æÂ£∞</span>Ôºö<br>
ÂáΩÊï∞‰ΩìÊâßË°åÂÆåÊØïÂêéÔºåÈúÄË¶ÅÊâßË°å‰ª•‰∏ãÊ≠•È™§Ôºö</p>
<ul>
<li>Â∞ÜÂáΩÊï∞ËøîÂõûÂÄºÁΩÆÂÖ• <code>rax</code> ‰∏≠ÔºàÊµÆÁÇπÊï∞ÁΩÆÂÖ• <code>xmm0</code>ÔºâÔºõ</li>
<li>„ÄêÂ¶ÇÊûú‰øùÂ≠ò‰∫Ü callee-save ÂØÑÂ≠òÂô®Ôºå‰ΩøÁî® <code>popq</code> ÂÄíÂ∫è‰ªéÊ†àÂ∏ß‰∏≠ÊÅ¢Â§çÂØÑÂ≠òÂô® „ÄëÔºõ</li>
<li>ÈáäÊîæÂΩìÂâçÂáΩÊï∞ÁöÑÊ†àÂ∏ßÁ©∫Èó¥Ôºå<code>movq %rbp %rsp</code> ÂÖàÂõûÈÄÄÊ†àÈ°∂ÊåáÈíà <code>%rsp</code>Ôºå<code>popq %rbp</code> ÂÜçÊÅ¢Â§çÂéüÂü∫ÂùÄÊåáÈíà <code>%rbp</code>„ÄÇÔºà‰∏§‰∏™Êìç‰ΩúÔºåÂêàÂπ∂Á≠âÊïà‰∏∫ <code>leave</code> Êåá‰ª§ÔºâÔºõ</li>
<li><code>ret</code> Êåá‰ª§ÔºåÂºπÂá∫ËøîÂõûÂú∞ÂùÄÔºåÊâßË°åÊµÅÂõûÂà∞ caller „ÄÇ</li>
</ul>
<p>4Ôºâ<span style="color:#2062f6;font-weight:bold;">caller Ë∞ÉÁî®ËÄÖ</span>Ôºö</p>
<ul>
<li>Â¶ÇÊûú‰∏∫<strong>ÂáΩÊï∞ÂèÇÊï∞</strong>È¢ùÂ§ñÂàÜÈÖç‰∫ÜÊ†àÁ©∫Èó¥ÔºåÂàôÂú®Ê≠§Êó∂ÈúÄË¶ÅÈáäÊîæËøô‰∫õÁ©∫Èó¥„ÄÇ</li>
<li>„ÄêÂ¶ÇÊûú‰øùÂ≠ò‰∫Ü caller-save ÂØÑÂ≠òÂô®Ôºå<code>popq</code> ÂÄíÂ∫è‰ªéÊ†àÂ∏ß‰∏≠ÊÅ¢Â§çÔºåÈáäÊîæËøô‰∫õÁ©∫Èó¥„ÄëÔºõ</li>
</ul>
<p>Ëá≥Ê≠§Ôºå‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÂáΩÊï∞Ë∞ÉÁî®ËøáÁ®ãÂÆåÊàê„ÄÇÂáΩÊï∞ÊâßË°åÁöÑÁªìÊûú‰∏ÄËà¨‰Ωç‰∫éÂØÑÂ≠òÂô® <code>rax</code> ‰∏≠ÔºåÂ¶ÇÊûúÊòØÊµÆÁÇπÊï∞Ôºå‰Ωç‰∫éÂú® <code>xmm0</code> ‰∏≠„ÄÇ</p>
<p>ËØ¥ÊòéÔºö</p>
<ul>
<li>ÊµÆÁÇπÊï∞Ôºå‰ΩøÁî®ÊµÆÁÇπÂØÑÂ≠òÂô® <code>xmm0~xmm7</code> ‰º†ÈÄíÂèÇÊï∞ÔºåËøîÂõûÂÄº‰ΩøÁî® <code>xmm0~xmm1</code>„ÄÇ</li>
<li>Â¶ÇÊûúÊòØÂØπË±°‰Ωú‰∏∫ËøîÂõûÂÄº(ÂØπÂ∫î‰∏∫ MEMORY Á±ªÂûãÊó∂)Ôºå‰ºöÈöêÂºè‰º†ÈÄíÂÖ∂ÊåáÈíà‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞„ÄÇÂáΩÊï∞ÂÜÖÁõ¥Êé•‰øÆÊîπËøô‰∏™ÊåáÈíàÊåáÂêëÁöÑÂÜÖÂ≠ò„ÄÇ</li>
</ul>
<h2 id="ÂèÇËÄÉËµÑÊñô">ÂèÇËÄÉËµÑÊñô</h2>
<ul>
<li><a href="https://www.cs.virginia.edu/~evans/cs216/guides/x86.html#registers">x86 Assembly Guide</a></li>
<li><a href="https://web.stanford.edu/class/archive/cs/cs107/cs107.1186/guide/x86-64.html#registers">Guide to x86-64</a></li>
<li><a href="https://gitlab.com/x86-psABIs/x86-64-ABI/-/jobs/artifacts/master/raw/x86-64-ABI/abi.pdf?job=build">System V Application Binary Interface</a> <a href="https://alumnihusteducn-my.sharepoint.com/:b:/g/personal/u201614735_alumni_hust_edu_cn/EaG-ayxZZelFtslYaKOlFKcBFihL7b0C8wfxSHUZytQdXw?e=poIEWV">#PDF</a></li>
</ul>
</div>

                <!-- Êñ∞Âä†ÁöÑÊ®°ÂùóÁöÑÔºåÂ∫îËØ•‰ΩøÁî®Ê®°Áâà-->
                <!-- ÁâàÊùÉÂ£∞Êòé -->
                
                  <div class="jumbotron">
                    <div class="container">
                      <p>
                        <i class="ri-article-line"></i>
                        <b>Êú¨ÊñáÈìæÊé•:</b>
                        <a href="https://blog.qxxiao.eu.org/post/Ê±áÁºñÂü∫Á°ÄÂíåÂáΩÊï∞Ë∞ÉÁî®ABI/" target="_blank">
                          Ê±áÁºñÂü∫Á°ÄÂíåÂáΩÊï∞Ë∞ÉÁî®ABI
                        </a>
                      </p>
                      <p>
                        <i class="ri-creative-commons-line"></i>
                        <b>ÁâàÊùÉÂ£∞Êòé:</b>
                        Êú¨ÂçöÂÆ¢ÊâÄÊúâÊñáÁ´†Èô§ÁâπÂà´Â£∞ÊòéÂ§ñÔºåÂùáÈááÁî®
                        <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">CC
                          BY-NC-SA
                          4.0</a>
                        ËÆ∏ÂèØÂçèËÆÆÔºåËΩ¨ËΩΩËØ∑Ê≥®ÊòéÂá∫Â§Ñ„ÄÇ
                      </p>
                      <p>
                        <i class="ri-time-line"></i>
                        <b>ÂèëÂ∏ÉÊó•Êúü:</b>
                        2024-07-23
                      </p>
                      <p>
                        <i class="ri-time-line"></i>
                        <b>ÊúÄÊñ∞ÊûÑÂª∫:</b>
                        2024-07-29
                          <!-- ‰ΩøÁî® themeConfig.dateFormat Ê†ºÂºèÂØπÊó•ÊúüÊ†ºÂºèÂåñÔºå‰æãÂ¶ÇYY-MM-DD -->
                          <!-- {
  &#34;content&#34;: &#34;&lt;!-- more --&gt;\n&lt;h2 id=\&#34;2024-06-10\&#34;&gt;2024-06-10&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;Ê∑ªÂä†‰∫ÜÁõ∏ÂÜåÁöÑÊó∂Èó¥Á∫øÊ†∑Âºè&lt;/li&gt;\n&lt;li&gt;Ê∑ªÂä†‰∫Ü‰π¶ÂçïÈ°µÈù¢&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;2024-06-09\&#34;&gt;2024-06-09&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;‰øÆÊîπ‰∫ÜÈÉ®ÂàÜÊ†∑ÂºèÔºåÂéªÈô§‰∫ÜÂ§ö‰∏™È°µÈù¢‰∏≠ÁöÑ css class: animated fadeInÔºåÈÅøÂÖçÈ°µÈù¢Âà∑Êñ∞Êó∂ÊäñÂä®&lt;/li&gt;\n&lt;li&gt;‰øÆÊîπ‰∫ÜÊñáÁ´† TOC ÁõÆÂΩïÁöÑÂÆΩÂ∫¶Ê†∑Âºè, Âè™ÈôêÂà∂ÊúÄÂ∞è/ÊúÄÂ§ßÂÆΩÂ∫¶Ôºå‰ΩøÂÖ∂ËÉΩÂ§üËá™ÈÄÇÂ∫îÂÜÖÂÆπÂÆΩÂ∫¶&lt;/li&gt;\n&lt;li&gt;Áªü‰∏Ä post ÊñáÁ´†Âíå diary/gallary È°µÈù¢ÁöÑÂõûÂà∞È°∂ÈÉ®/Â∫ïÈÉ®ÊåâÈíÆÊ†∑ÂºèÂíå‰ΩçÁΩÆ&lt;/li&gt;\n&lt;li&gt;ÁÆÄÂåñ‰∫Ü Êòé‰∫Æ/ÈªëÊöóÊ®°ÂºèÂàáÊç¢‰ª£Á†ÅÔºåÂà†Èô§‰∫Ü &lt;code&gt;ldbutton.js&lt;/code&gt;Ôºå‰ΩøÁî® Vue Êù•ÊéßÂà∂Ê†∑ÂºèÂàáÊç¢„ÄÇ‰ΩÜÂà∑Êñ∞‰ºöÂØºËá¥È°µÈù¢Èó™Â±èÔºåÂõ†‰∏∫ Vue ÊâßË°åÂÆå mounted ÂêéÊâç‰ºöÊ≠£Á°ÆËÆ°ÁÆóÂΩìÂâçÊ®°ÂºèÔºõËß£ÂÜ≥Ôºö‰ΩøÁî® js ÂáΩÊï∞Êù•ÊèêÂâçÂÆåÊàêÊ®°ÂºèÁöÑÂàùÂßãÂåñÔºåÈÅøÂÖçÈó™Â±è&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;2023-12-20\&#34;&gt;2023-12-20&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;Ê∑ªÂä†&lt;code&gt;Êó∂ÂÖâ/ËØ¥ËØ¥&lt;/code&gt;ÂäüËÉΩÔºåÊï∞ÊçÆÊù•Ê∫ê‰∫é Memos\n&lt;ul&gt;\n&lt;li&gt;Áî±‰∫éËØÑËÆ∫ÈÉ®ÁΩ≤Âú® vercelÔºåÂä†ËΩΩÊÖ¢ÔºåËØ¥ËØ¥ËØÑËÆ∫ÈúÄË¶ÅÂú®&lt;a href=\&#34;https://memos.qxxiao.eu.org\&#34;&gt;ÂéüÂßã Memos È°µÈù¢&lt;/a&gt;ÊâìÂºÄËØÑËÆ∫ (Êõ¥Êñ∞ÔºöÊ∑ªÂä†‰∫ÜÈ°µÈù¢ËØÑËÆ∫ÔºåÂèØ‰ª•Áõ¥Êé•Âú®ÂΩìÂâçÈ°µÈù¢ËÆøÈóÆ)&lt;/li&gt;\n&lt;li&gt;ËØ¥ËØ¥ÊúçÂä°Âô®ÈÉ®ÁΩ≤Âú® AzureÔºåÂèØËÉΩÈúÄË¶Å‰ª£ÁêÜÊâçËÉΩÊ≠£Â∏∏ËÆøÈóÆ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;Â∞Ü‰ªìÂ∫ìÂêåÊ≠•Âà∞ githubÔºåÂà©Áî® github actions ËøõË°åÂçöÂÆ¢ÂêåÊ≠•\n&lt;ul&gt;\n&lt;li&gt;‰πãÂâç‰ΩøÁî® Mac ÁõëÊéßËÑöÊú¨ÂêåÊ≠•ÂçöÂÆ¢Ôºågridea ÊØèÊ¨°È¢ÑËßàÂèØËÉΩ‰ºöËß¶ÂèëÂØºËá¥Á´ôÁÇπ url ÊòØ localhostÔºåÂπ∂‰∏îÊúâÊó∂‰ªªÂä°Ëß¶Âèë‰∏çÂèäÊó∂&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;Ê∑ªÂä† &lt;a href=\&#34;https://github.com/kytrun/gridea-search\&#34;&gt;gridea-search Êèí‰ª∂&lt;/a&gt;ÔºåÂØπÂ∫îÊ∑ªÂä†‰∫ÜÊêúÁ¥¢Ê°ÜÔºåË∞ÉÊï¥‰∫Ü‰∏Ä‰∏ãËèúÂçïÁïåÈù¢&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;2023-12-12\&#34;&gt;2023-12-12&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;Êõ¥Êñ∞ËØÑËÆ∫Á≥ªÁªü twikoo ÁâàÊú¨Âà∞ 1.6.27&lt;/li&gt;\n&lt;li&gt;Êõ¥Êñ∞Ê†∑ÂºèÔºåÂà†Èô§ÂèãÈìæËèúÂçïÔºåÁõ¥Êé•Âú®&lt;a href=\&#34;/post/about\&#34;&gt;ÂÖ≥‰∫éÈ°µÈù¢&lt;/a&gt;Ê∑ªÂä†Ôºå‰øùÁïô‰∫ÜÈÉ®ÂàÜ css Ê†∑Âºè&lt;/li&gt;\n&lt;li&gt;‰ºòÂåñÔºå‰ΩøÁî® &lt;code&gt;v-cloak&lt;/code&gt; ÈÅøÂÖçÂá∫Áé∞ post È°µÈù¢ÁöÑÊñáÁ´†ÁõÆÂΩïÈó™ÁÉÅÈóÆÈ¢ò&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;2022-07-06\&#34;&gt;2022-07-06&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;‰øÆÊîπÊ†∑ÂºèÔºåÊ∑ªÂä†Êöó‰∫ÆÊ®°ÂºèÂàáÊç¢&lt;/li&gt;\n&lt;li&gt;‰øÆÊîπÈªòËÆ§Ê†∑ÂºèÊü•ËØ¢ÊñπÂºèÔºåÁÆÄÂçïÊ†∑ÂºèÈÄÇÈÖç&lt;/li&gt;\n&lt;li&gt;‰øÆÊîπ‰ª£Á†Å‰∏ªÈ¢ò‰∏∫ &lt;code&gt;vs-dark&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;2022-03-20\&#34;&gt;2022-03-20&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;Ê∑ªÂä†ÊñáÁ´†ÂàóË°®‰∏≠ÁöÑÊ†áÁ≠æÁöÑÊòæÁ§∫ÔºåËÆæÁΩÆÊ†áÁ≠æÊ†∑Âºè(ÈªòËÆ§Ê≤°Êúâ border-indigo-500 Á≠âÊ†∑Âºè)&lt;/li&gt;\n&lt;li&gt;‰ºòÂåñÂ∏ÉÂ±Ä&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;2022-02-27\&#34;&gt;2022-02-27&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;Ê∑ªÂä†‰ª£Á†ÅÊ†∑ÂºèÔºåÂ¢ûÂä†Ë°åÂè∑ÂíåÂ§çÂà∂ÈÄâÈ°π&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;2022-02-25\&#34;&gt;2022-02-25&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;‰øÆÊîπ‰∏ªÈ¢òÈÖçÁΩÆÔºåÊ∑ªÂä†ÂèãÈìæËèúÂçïÔºå‰ºòÂåñ‰∫ÜÈ°µÈù¢ÊïàÊûú&lt;/li&gt;\n&lt;li&gt;Ê∑ªÂä†ÂØºËà™ËèúÂçï&lt;/li&gt;\n&lt;li&gt;È°µÈù¢Ê†∑ÂºèÁßªÂä®Âíå‰øÆÊîπ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;2022-02-20\&#34;&gt;2022-02-20&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;Êõ¥Êñ∞È°µÈù¢Ê†∑ÂºèÔºåÊ∑ªÂä†ÁâàÊùÉÂíåËØ¥ÊòéÔºàÊîπÂèòÂ≠ó‰ΩìÂèØËÉΩ‰ºöÂØºËá¥‰∏≠ÊñáÁõÆÂΩï‰∏çËÉΩÊ≠£Á°ÆË∑≥ËΩ¨Ôºâ&lt;/li&gt;\n&lt;li&gt;Êõ¥Êñ∞ÂΩíÊ°£È°µÈù¢ÔºåÊ∑ªÂä†Êó•Êúü‰ø°ÊÅØÂíåÊØèÁØáÊñáÁ´†ÁöÑÁõ∏ÂÖ≥ÊèèËø∞&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;2022-02-10\&#34;&gt;2022-02-10&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;ÁÆÄÂçï‰ΩøÁî® Rocky ‰∏ªÈ¢ò&lt;/li&gt;\n&lt;li&gt;‰øÆÊîπ‰∏ªÈ°µ‰ø°ÊÅØÁöÑÊèèËø∞‰ª•Âèä footer ‰ø°ÊÅØ&lt;/li&gt;\n&lt;li&gt;‰ΩøÁî® Twikoo ËØÑËÆ∫&lt;/li&gt;\n&lt;/ul&gt;\n&#34;,
  &#34;fileName&#34;: &#34;log&#34;,
  &#34;abstract&#34;: &#34;&#34;,
  &#34;title&#34;: &#34;Êõ¥Êñ∞Êó•Âøó&#34;,
  &#34;tags&#34;: [],
  &#34;date&#34;: &#34;2020-01-05 00:37:45&#34;,
  &#34;dateFormat&#34;: &#34;2020-01-05&#34;,
  &#34;feature&#34;: &#34;&#34;,
  &#34;link&#34;: &#34;https://blog.qxxiao.eu.org/post/log/&#34;,
  &#34;hideInList&#34;: true,
  &#34;isTop&#34;: false,
  &#34;stats&#34;: {
    &#34;text&#34;: &#34;3 min read&#34;,
    &#34;time&#34;: 139000,
    &#34;words&#34;: 636,
    &#34;minutes&#34;: 3
  },
  &#34;description&#34;: &#34;\n2024-06-10\n\nÊ∑ªÂä†‰∫ÜÁõ∏ÂÜåÁöÑÊó∂Èó¥Á∫øÊ†∑Âºè\nÊ∑ªÂä†‰∫Ü‰π¶ÂçïÈ°µÈù¢\n\n2024-06-09\n\n‰øÆÊîπ‰∫ÜÈÉ®ÂàÜÊ†∑ÂºèÔºåÂéªÈô§‰∫ÜÂ§ö‰∏™È°µÈù¢‰∏≠ÁöÑ css class: animated fadeInÔºåÈÅøÂÖçÈ°µÈù¢Âà∑Êñ∞Êó∂ÊäñÂä®\n‰øÆÊîπ‰∫ÜÊñáÁ´† TOC ÁõÆÂΩïÁöÑÂÆΩÂ∫¶Ê†∑Âºè, ...&#34;,
  &#34;toc&#34;: &#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#2024-06-10\&#34;&gt;2024-06-10&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2024-06-09\&#34;&gt;2024-06-09&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2023-12-20\&#34;&gt;2023-12-20&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2023-12-12\&#34;&gt;2023-12-12&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2022-07-06\&#34;&gt;2022-07-06&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2022-03-20\&#34;&gt;2022-03-20&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2022-02-27\&#34;&gt;2022-02-27&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2022-02-25\&#34;&gt;2022-02-25&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2022-02-20\&#34;&gt;2022-02-20&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2022-02-10\&#34;&gt;2022-02-10&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;
}
                            
                                  2024-07-23
                                     -->
                      </p>
                    </div>
                  </div>
                  
                    <!-- Êñ∞Âä†ÁöÑÊ®°ÂùóÁöÑÔºåÂ∫îËØ•‰ΩøÁî®Ê®°Áâà-->
                    <!--ÈòÖËØªÊ¨°Êï∞-->
                    <div class="text-center text-gray-400">
                      <i class="ri-eye-line"></i>
                      Êú¨ÊñáÂ∑≤Ë¢´ÈòÖËØª
                      <span id="twikoo_visitors">0</span>
                      Ê¨°ÔºåËØ•Êï∞ÊçÆ‰ªÖ‰æõÂèÇËÄÉ
                    </div>

                    <!-- Share to Twitter, Weibo, Telegram -->
                    <div class="flex items-center">
                      <div class="mr-4 flex items-center">
                        <i class="ri-share-forward-line text-gray-500"></i>
                      </div>
                      <div
                        class="px-4 cursor-pointer text-blue-500 hover:bg-blue-100 dark:hover:bg-gray-600 inline-flex"
                        @click="shareToTwitter">
                        <i class="ri-twitter-line"></i>
                      </div>
                      <div class="px-4 cursor-pointer text-red-500 hover:bg-red-100 dark:hover:bg-gray-600 inline-flex"
                        @click="shareToWeibo">
                        <i class="ri-weibo-line"></i>
                      </div>
                      <div
                        class="px-4 cursor-pointer text-indigo-500 hover:bg-indigo-100 dark:hover:bg-gray-600 inline-flex"
                        @click="shareToTelegram">
                        <i class="ri-telegram-line"></i>
                      </div>
                    </div>
          </div>

          <!-- Êñ∞Âä†ÁöÑÊ®°ÂùóÁöÑÔºåÂ∫îËØ•‰ΩøÁî®Ê®°Áâà-->
          <!-- ËØÑËÆ∫ËØ¥Êòé-->
          <div class="jumbotron-comment">
            <div class="container">
              <p>
                <i class="ri-message-3-line"></i>
                Ê¨¢Ëøé‰ªª‰Ωï‰∏éÊñáÁ´†ÂÜÖÂÆπÁõ∏ÂÖ≥Âπ∂‰øùÊåÅÂ∞äÈáçÁöÑËØÑËÆ∫üòä !
              </p>
            </div>
          </div>

          
                        
                            
                              <div id="tcomment"></div>
                               <footer class="py-12 text-center px-4 md:px-0" v-pre>
  ÂÖ± 44 ÁØáÊñáÁ´† | Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <i class="ri-rss-line"></i><a href="https://blog.qxxiao.eu.org/atom.xml" target="_blank" target="_blank">RSS</a></br>
¬©2020-2024 <a href="https://blog.qxxiao.eu.org/index.html" target="_blank">Nuo</a>. All rights reserved.
</footer>

<!--Ê≤°ÊúâÊ∑ªÂä†/Áî®Âà∞app ‰∏≠ÁöÑ‰∏ªÈ¢òfooterÈÖçÁΩÆÊ∂àÊÅØÔºåÂ¶ÇÊûú‰ΩøÁî®ÔºåÂ∞Ü‰∏äÈù¢ÁöÑ href ÊõøÊç¢‰∏∫ÂéüÂú∞ÂùÄ-->
<!---->

        </div>

        <!-- TOC Container -->
        <div
          class="fixed right-0 bottom-0 mb-40 mr-4 shadow w-10 h-10 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white dark:bg-gray-500 dark:text-gray-200 hover:shadow-lg transition-all"
          @click="showToc = true">
          <i class="ri-file-list-line"></i>
        </div>

        <div v-cloak
          class="fixed right-0 top-0 bottom-0 overflow-y-auto w-16-24 bg-white dark:bg-gray-800 p-4 border-l border-gray-100 dark:border-gray-600 z-10 transition-fast"
          :class="{ '-mr-64': !showToc }">
          <div class="flex mb-4 justify-end">
            <div
              class="w-8 h-8 inline-flex justify-center items-center rounded-full cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-fast"
              @click="showToc = false">
              <i class="ri-close-line text-lg"></i>
            </div>
          </div>
          <div class="post-toc-container"><ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#1%E5%AF%84%E5%AD%98%E5%99%A8">1.ÂØÑÂ≠òÂô®</a>
<ul>
<li><a href="#x86-%E5%AF%84%E5%AD%98%E5%99%A8">x86 ÂØÑÂ≠òÂô®</a></li>
<li><a href="#x86-64-%E5%AF%84%E5%AD%98%E5%99%A8">x86-64 ÂØÑÂ≠òÂô®</a></li>
</ul>
</li>
<li><a href="#2%E6%B1%87%E7%BC%96%E8%AF%AD%E6%B3%95">2.Ê±áÁºñËØ≠Ê≥ï</a>
<ul>
<li><a href="#%E6%8C%87%E4%BB%A4%E5%90%8E%E7%BC%80">Êåá‰ª§ÂêéÁºÄ</a></li>
<li><a href="#%E5%86%85%E5%AD%98%E5%AF%BB%E5%9D%80%E8%AE%BF%E9%97%AE">ÂÜÖÂ≠òÂØªÂùÄÔºàËÆøÈóÆÔºâ</a></li>
<li><a href="#%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4">Â∏∏Áî®Êåá‰ª§</a></li>
</ul>
</li>
<li><a href="#3%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8">3.ÂáΩÊï∞Ë∞ÉÁî®</a>
<ul>
<li><a href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0">ÂáΩÊï∞ÂèÇÊï∞</a></li>
<li><a href="#%E5%87%BD%E6%95%B0%E6%A0%88%E5%B8%A7">ÂáΩÊï∞Ê†àÂ∏ß</a></li>
<li><a href="#%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E5%8D%8F%E8%AE%AE">ÂáΩÊï∞Ë∞ÉÁî®ÂçèËÆÆ</a></li>
</ul>
</li>
<li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">ÂèÇËÄÉËµÑÊñô</a></li>
</ul>
</li>
</ul>
</div>
        </div>

        <!-- Back to top -->
        <div v-cloak
          class="fixed right-0 bottom-0 mb-20 mr-4 shadow w-10 h-10 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white hover:shadow-lg dark:bg-gray-500 dark:text-gray-200"
          @click="backToUp" v-show="scrolled">
          <i class="ri-arrow-up-line"></i>
        </div>
        <!-- Back to bottom -->
        <div v-cloak
          class="fixed right-0 bottom-0 mb-4 mr-4 shadow w-10 h-10 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white hover:shadow-lg dark:bg-gray-500 dark:text-gray-200"
          @click="backToBottom" v-show="!atBottom">
          <i class="ri-arrow-down-line"></i>
        </div>
    </div>

    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- Background of PhotoSwipe. 
        It's a separate element as animating opacity is faster than rgba(). -->
  <div class="pswp__bg">
  </div>
  <!-- Slides wrapper with overflow:hidden. -->
  <div class="pswp__scroll-wrap">
    <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
    <div class="pswp__container">
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
    </div>
    <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
    <div class="pswp__ui pswp__ui--hidden">
      <div class="pswp__top-bar">
        <!--  Controls are self-explanatory. Order can be changed. -->
        <div class="pswp__counter">
        </div>
        <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
        <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
        <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
        <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
        <!-- element will get class pswp__preloader--active when preloader is running -->
        <div class="pswp__preloader">
          <div class="pswp__preloader__icn">
            <div class="pswp__preloader__cut">
              <div class="pswp__preloader__donut">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
        <div class="pswp__share-tooltip">
        </div>
      </div>
      <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
      </button>
      <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
      </button>
      <div class="pswp__caption">
        <div class="pswp__caption__center">
        </div>
      </div>
    </div>
  </div>
</div>

      <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
      <script src="https://blog.qxxiao.eu.org/media/scripts/main.js"></script>

      <!-- Code Highlight -->
      
        <script src="https://blog.qxxiao.eu.org/media/prism.js"></script>
        <script>
          Prism.highlightAll();
        </script>
        <script defer
          src="https://cdn.bootcdn.net/ajax/libs/prism/1.19.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
        <script defer
          src="https://cdn.bootcdn.net/ajax/libs/prism/1.19.0/plugins/toolbar/prism-toolbar.min.js"></script>
        <script defer
          src="https://cdn.bootcdn.net/ajax/libs/prism/1.19.0/plugins/show-language/prism-show-language.min.js"></script>
        <script defer
          src="https://cdn.bootcdn.net/ajax/libs/prism/1.19.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
        

          <script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
          <script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>
          <script>
            //ÊãøÂà∞È¢ÑËßàÊ°ÜÊû∂Ôºå‰πüÂ∞±ÊòØ‰∏äÈù¢ÁöÑhtml‰ª£Á†Å
            var pswpElement = document.querySelectorAll('.pswp')[0]
            //ÂÆö‰πâÂõæÁâáÊï∞ÁªÑÂèòÈáè
            var imgitems
            /**
             * Áî®‰∫éÊòæÁ§∫È¢ÑËßàÁïåÈù¢
             * @param index ÂõæÁâáÊï∞ÁªÑ‰∏ãÊ†á
             */
            function viewImg(index) {
              var pswpoptions = {
                index: parseInt(index, 10), // ÂºÄÂßãÂπªÁÅØÁâáÁ¥¢Âºï„ÄÇ0ÊòØÁ¨¨‰∏ÄÂº†ÂπªÁÅØÁâá„ÄÇÂøÖÈ°ªÊòØÊï¥Êï∞ÔºåËÄå‰∏çÊòØÂ≠óÁ¨¶‰∏≤„ÄÇ
                bgOpacity: 0.7, // ËÉåÊôØÈÄèÊòéÂ∫¶Ôºå0-1
                maxSpreadZoom: 3, // Áº©ÊîæÁ∫ßÂà´Ôºå‰∏çË¶ÅÂ§™Â§ß
              }
              //ÂàùÂßãÂåñÂπ∂ÊâìÂºÄPhotoSwipeÔºåpswpElementÂØπÂ∫î‰∏äÈù¢È¢ÑËßàÊ°ÜÊû∂ÔºåPhotoSwipeUI_Default‰∏∫ÁöÆËÇ§Ôºåimgitems‰∏∫ÂõæÁâáÊï∞ÁªÑÔºåpswpoptions‰∏∫ÈÄâÈ°π
              var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, imgitems, pswpoptions)
              gallery.init()
            }
            /**
             * Áî®‰∫éÊ∑ªÂä†ÂõæÁâáÁÇπÂáª‰∫ã‰ª∂
             * @param img ÂõæÁâáÂÖÉÁ¥†
             * @param index ÊâÄÂ±û‰∏ãÊ†áÔºàÂú®imgitems‰∏≠ÁöÑ‰ΩçÁΩÆÔºâ
             */
            function addImgClick(img, index) {
              img.onclick = function () {
                viewImg(index)
              }
            }
            /**
             * ËΩÆËØ¢ÊâÄÊúâÂõæÁâáÔºåËé∑Âèñsrc„ÄÅwidth„ÄÅheightÁ≠âÊï∞ÊçÆÔºåÂä†ÂÖ•imgitemsÔºåÂπ∂ÁªôÂõæÁâáÂÖÉÁ¥†Ê∑ªÂä†‰∫ã‰ª∂
             * ÊúÄÂ•ΩÂú®onload‰∏≠ÊâßË°åËØ•ÊñπÊ≥ïÔºåÊú¨Á´ôÂõ†ÊîæÂú®ÊúÄÂ∫ïÈÉ®ÔºåÊâÄ‰ª•Áõ¥Êé•ÂàùÂßãÂåñ
             * ÂºÇÊ≠•Âä†ËΩΩÂõæÁâáÂèØÂú®ÂõæÁâáÂÖÉÁ¥†ÂàõÂª∫ÂÆåÊàêÂêéË∞ÉÁî®Ê≠§ÊñπÊ≥ï
             */
            function initImg() {
              //ÈáçÁΩÆÂõæÁâáÊï∞ÁªÑ
              imgitems = []
              //Êü•Êâæclass:markdown ‰∏ãÁöÑÊâÄÊúâimgÂÖÉÁ¥†Âπ∂ÈÅçÂéÜ
              var imgs = document.querySelectorAll('.markdown img')
              for (var i = 0; i < imgs.length; i++) {
                var img = imgs[i]
                //Êú¨Á´ôÁõ∏ÂÜåÂàùÂßã‰∏∫loadingÂõæÁâáÔºåÁúüÂÆûÂõæÁâáÊîæÂú®data-src
                var ds = img.getAttribute('data-src')
                //ÂàõÂª∫imageÂØπË±°ÔºåÁî®‰∫éËé∑ÂèñÂõæÁâáÂÆΩÈ´ò
                var imgtemp = new Image()
                //Âà§Êñ≠ÊòØÂê¶Â≠òÂú®data-src
                if (ds != null && ds.length > 0) {
                  imgtemp.src = ds
                } else {
                  imgtemp.src = img.src
                }
                //Âà§Êñ≠ÊòØÂê¶Â≠òÂú®ÁºìÂ≠ò
                if (imgtemp.complete) {
                  var imgobj = {
                    src: imgtemp.src,
                    w: imgtemp.width,
                    h: imgtemp.height,
                  }
                  imgitems[i] = imgobj
                  addImgClick(img, i)
                } else {
                  imgtemp.index = i
                  imgtemp.img = img
                  imgtemp.onload = function () {
                    var imgobj = {
                      src: this.src,
                      w: this.width,
                      h: this.height,
                    }
                    //‰∏çË¶Å‰ΩøÁî®pushÔºåÂõ†‰∏∫onloadÂâçÂêéÈ°∫Â∫è‰ºö‰∏çÂêå
                    imgitems[this.index] = imgobj
                    //Ê∑ªÂä†ÁÇπÂáª‰∫ã‰ª∂
                    addImgClick(this.img, this.index)
                  }
                }
              }
            }
            //ÂàùÂßãÂåñ
            initImg();
          </script>
          
                
                          
                            <script src="https://cdn.jsdelivr.net/npm/twikoo@1.6.36/dist/twikoo.all.min.js"></script>
                            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"
                              integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X"
                              crossorigin="anonymous" />
                            <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"
                              integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4"
                              crossorigin="anonymous"></script>
                            <script defer
                              src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js"
                              integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa"
                              crossorigin="anonymous"></script>
                            <script>
                              twikoo.init({
                                envId: 'https://twikoo.qxxiao.eu.org/',
                                el: '#tcomment',
                                katex: {
                                  delimiters: [
                                    { left: '$$', right: '$$', display: true },
                                    { left: '$', right: '$', display: false },
                                    { left: '\\(', right: '\\)', display: false },
                                    { left: '\\[', right: '\\]', display: true },
                                  ],
                                  throwOnError: false,
                                },
                                // region: 'ap-guangzhou', // ÁéØÂ¢ÉÂú∞ÂüüÔºåÈªòËÆ§‰∏∫ ap-shanghaiÔºåÂ¶ÇÊûúÊÇ®ÁöÑÁéØÂ¢ÉÂú∞Âüü‰∏çÊòØ‰∏äÊµ∑ÔºåÈúÄ‰º†Ê≠§ÂèÇÊï∞
                                // path: 'window.location.pathname', // Áî®‰∫éÂå∫ÂàÜ‰∏çÂêåÊñáÁ´†ÁöÑËá™ÂÆö‰πâ js Ë∑ØÂæÑÔºåÂ¶ÇÊûúÊÇ®ÁöÑÊñáÁ´†Ë∑ØÂæÑ‰∏çÊòØ location.pathnameÔºåÈúÄ‰º†Ê≠§ÂèÇÊï∞
                              });
                            </script>
                            

                              <!-- line number for code block -->
                              <script>
                                var pres = document.getElementsByTagName('pre')
                                for (var i = 0; i < pres.length; i++) {
                                  var pre = pres[i]
                                  if (pre.childNodes[0].nodeName == 'CODE') {
                                    pre.setAttribute('class', 'line-numbers')
                                  }
                                }
                              </script>
                              

  </body>

</html>